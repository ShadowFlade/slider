{"version":3,"sources":["webpack://test_plugin/./ts-src/style.scss","webpack://test_plugin/./ts-src/app.ts","webpack://test_plugin/./ts-src/eventemitter.ts","webpack://test_plugin/./ts-src/model.ts","webpack://test_plugin/./ts-src/pres.ts","webpack://test_plugin/./ts-src/presBuilder.ts","webpack://test_plugin/./ts-src/utils.ts","webpack://test_plugin/./ts-src/view.ts","webpack://test_plugin/webpack/bootstrap","webpack://test_plugin/webpack/runtime/compat get default export","webpack://test_plugin/webpack/runtime/define property getters","webpack://test_plugin/webpack/runtime/hasOwnProperty shorthand","webpack://test_plugin/webpack/runtime/make namespace object","webpack://test_plugin/./ts-src/jquery.slider.ts"],"names":[],"mappings":"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","file":"plugin.js","sourcesContent":["// extracted by mini-css-extract-plugin","// import * as $ from 'jquery'\r\nimport { Model } from './model';\r\nimport View from './view';\r\nimport { Pres } from './pres';\r\nimport PresBuilder from './presBuilder';\r\nclass App {\r\n  _item: HTMLElement;\r\n  states: {\r\n    range: boolean;\r\n    orientation: string;\r\n    scale: boolean;\r\n    tip: boolean;\r\n    stick: boolean;\r\n  };\r\n  constructor(item: HTMLElement, options: Record<string, unknown>) {\r\n    this._item = item;\r\n    this._model = new Model(options, item);\r\n    this._pres = new Pres(this._model, this._model.getItem());\r\n    this._view = new View(this._pres, options, item);\r\n    this._pres.builder = new PresBuilder({\r\n      view: this._view,\r\n      settings: this._model.getSettings(),\r\n      model: this._model,\r\n      pres: this._pres,\r\n    });\r\n    this._pres.getView(this._view);\r\n    this._pres.init();\r\n    this._pres.onMouseDown();\r\n    this._pres.firstRefresh();\r\n  }\r\n\r\n  public tilt(): void {\r\n    if (this._model.getSettings().orientation === 'vertical') {\r\n      this._model.setOption('orientation', 'horizontal');\r\n      // this.states.ori\r\n    } else if (this._model.getSettings().orientation === 'horizontal') {\r\n      this._model.setOption('orientation', 'vertical');\r\n    }\r\n    this._pres.init();\r\n    this._pres.onMouseDown();\r\n  }\r\n\r\n  public scale(option: boolean): void {\r\n    if (!option) {\r\n      this._view._elements._scale.style.display = 'none';\r\n    } else {\r\n      this._view._elements._scale.style.display = '';\r\n    }\r\n  }\r\n\r\n  public bar(option: boolean): void {\r\n    if (!option) {\r\n      this._view._elements._range.style.display = 'none';\r\n    } else {\r\n      this._view._elements._range.style.display = '';\r\n    }\r\n  }\r\n\r\n  public tip(option: boolean): void {\r\n    if (!option) {\r\n      this._view._elements._tooltipContainers.forEach((item) => {\r\n        // eslint-disable-next-line no-param-reassign\r\n        item.style.display = 'none';\r\n      });\r\n    } else {\r\n      this._view._elements._tooltipContainers.forEach((item) => {\r\n        // eslint-disable-next-line no-param-reassign\r\n        item.style.display = '';\r\n      });\r\n    }\r\n  }\r\n\r\n  public range(option: boolean): void {\r\n    if (option) {\r\n      if (this._model._settings.type !== 'double') {\r\n        this._model.setOption('type', 'double');\r\n        this._pres.builder.addHandle();\r\n        this._pres.onMouseDown();\r\n      }\r\n    } else {\r\n      this._model.setOption('type', 'single');\r\n      this._pres.builder.removeHandle();\r\n    }\r\n  }\r\n\r\n  public setValue(value: number, target: 1 | 2): void {\r\n    this._pres.setValue(value, target);\r\n  }\r\n\r\n  public setLimits(min: number, max: number): void {\r\n    if (min) {\r\n      this._model.setOptions({\r\n        minValue: min,\r\n      });\r\n    }\r\n    if (max) {\r\n      this._model.setOptions({\r\n        maxValue: max,\r\n      });\r\n    }\r\n    this._pres.init();\r\n    this._pres.onMouseDown();\r\n  }\r\n\r\n  public isRange(): boolean {\r\n    if (this._model._settings.type === 'double') {\r\n      return true;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public setStep(step: number): void {\r\n    this._model.setOption('stepSize', Number(step));\r\n    this._pres.init();\r\n    this._pres.onMouseDown();\r\n  }\r\n\r\n  public stick(option: boolean): void {\r\n    if (!option) {\r\n      this._view._elements._tooltipsSticks.forEach((stick) => {\r\n        stick.classList.add('hide');\r\n      });\r\n    } else {\r\n      this._view._elements._tooltipsSticks.forEach((stick) => {\r\n        stick.classList.remove('hide');\r\n      });\r\n    }\r\n  }\r\n\r\n  public getValue(numbOfHandle: 1 | 2): number {\r\n    const handle = this._view._elements._handles[numbOfHandle - 1];\r\n    const value = Number(handle.dataset.value);\r\n    return value;\r\n  }\r\n\r\n  _model: Model;\r\n\r\n  _view: View;\r\n\r\n  _pres: Pres;\r\n}\r\n\r\nexport default App;\r\n","interface eventmixin {\r\n  _eventHandlers: Record<string, unknown>;\r\n  on(eventname: string, handler: Function): void;\r\n  off(eventname: string, handler: Function): void;\r\n  trigger(eventaname: string, args: any, context?): void;\r\n}\r\n\r\nclass EventMixin implements eventmixin {\r\n  _eventHandlers: {};\r\n\r\n  on(eventName: string, handler: Function) {\r\n    if (!this._eventHandlers) this._eventHandlers = {};\r\n    if (!this._eventHandlers[eventName]) {\r\n      this._eventHandlers[eventName] = [];\r\n    }\r\n    this._eventHandlers[eventName].push(handler);\r\n  }\r\n\r\n  off(eventName: string, handler: Function) {\r\n    const handlers = this._eventHandlers && this._eventHandlers[eventName];\r\n    if (!handlers) return;\r\n    for (let i = 0; i < handlers.length; i++) {\r\n      if (handlers[i] === handler) {\r\n        handlers.splice(i--, 1);\r\n      }\r\n    }\r\n  }\r\n\r\n  // unsubscribe(eventName, callback) {\r\n  //   this.events[eventName] = this.events[eventName].filter(eventCallback => callback !== eventCallback);\r\n  // }\r\n\r\n  trigger(eventName: string, ...args) {\r\n    let x;\r\n    if (!this._eventHandlers || !this._eventHandlers[eventName]) {\r\n      return;\r\n    }\r\n    this._eventHandlers[eventName].forEach((handler) => {\r\n      const result = handler.call(this, ...args);\r\n      x = result;\r\n      return result;\r\n    });\r\n    return x;\r\n  }\r\n}\r\n\r\nexport default EventMixin;\r\n","import EventMixin from './eventemitter';\r\nimport { Temp } from './pres';\r\nimport { divisionFloor } from './utils';\r\nconst has = Object.prototype.hasOwnProperty;\r\ntype Ori = 'horizontal' | 'vertical';\r\ntype Type = 'double' | 'single';\r\n\r\ntype IStyles = {\r\n  progressBarColor: string;\r\n  sliderColor: string;\r\n  handleColor: string;\r\n  sliderWidth: number;\r\n  sliderHeight: number;\r\n  toolTextColor: string;\r\n};\r\ntype Settings = {\r\n  className: string;\r\n  orientation: Ori;\r\n  type: Type;\r\n  stepSize: number;\r\n  pxPerValue: number;\r\n  valuePerPx: number;\r\n  marginLeft: number;\r\n  marginTop: number;\r\n  maxValue: number;\r\n  minValue: number;\r\n  maxMinDifference: number;\r\n  betweenMarkers: number;\r\n  _minPins: number;\r\n  mainMax: number;\r\n  mainMin: number;\r\n  startPos1: number;\r\n  startPos2: number;\r\n  startValue1: number;\r\n  startValue2: number;\r\n  valueWidth: number;\r\n  toolTip: boolean;\r\n  altDrag: boolean;\r\n  marker: boolean;\r\n  built: boolean;\r\n  styles: IStyles;\r\n};\r\n\r\ntype ICoords = {\r\n  main: number;\r\n  prevMain: number;\r\n  mainMax: number;\r\n  value: number;\r\n  prevValue: number;\r\n  caller: string;\r\n  clicked: boolean;\r\n  altDrag: boolean;\r\n  target: HTMLDivElement;\r\n};\r\n\r\nclass Model extends EventMixin {\r\n  private _slider: Element;\r\n\r\n  private _range: Element;\r\n\r\n  private _sliderHandle: Element;\r\n\r\n  private _item: Element;\r\n\r\n  public interval: Map<HTMLDivElement, number> = new Map();\r\n\r\n  public coords: ICoords = {\r\n    main: 0,\r\n    prevMain: 0,\r\n    value: 1,\r\n    prevValue: 0,\r\n    caller: '',\r\n    clicked: false,\r\n    altDrag: true,\r\n    target: null,\r\n    mainMax: 0,\r\n  };\r\n\r\n  public temp: Partial<Temp> = {};\r\n\r\n  public _settings: Settings = {\r\n    className: 'slider',\r\n    orientation: 'horizontal',\r\n    type: 'double',\r\n    stepSize: 90,\r\n    pxPerValue: 0,\r\n    valuePerPx: 1,\r\n    marginLeft: 0,\r\n    marginTop: 0,\r\n    maxValue: 1360,\r\n    minValue: 0,\r\n    maxMinDifference: 0,\r\n    betweenMarkers: 40,\r\n    _minPins: 5, // optimal maximum number of pins\r\n    mainMax: 200,\r\n    mainMin: 0,\r\n    startPos1: 0,\r\n    startPos2: 100,\r\n    startValue1: 810,\r\n    startValue2: 0,\r\n    valueWidth: 0,\r\n    toolTip: true,\r\n    marker: true,\r\n    altDrag: false,\r\n    built: false,\r\n    styles: {\r\n      progressBarColor: 'green',\r\n      sliderColor: 'red',\r\n      handleColor: '',\r\n      sliderWidth: 200,\r\n      sliderHeight: 5,\r\n      toolTextColor: 'green',\r\n    },\r\n  };\r\n\r\n  constructor(options: Record<string, unknown>, item: HTMLElement) {\r\n    super();\r\n    this._item = item;\r\n    this.initOptions(options);\r\n  }\r\n\r\n  public initOptions(options: Record<string, unknown> = {}): void {\r\n    Object.keys(options).forEach((key: string): void => {\r\n      if (this._settings.styles.hasOwnProperty(key)) {\r\n        this._settings.styles[key] = options[key];\r\n      } else if (this.temp.hasOwnProperty(key)) {\r\n        this.temp[key] = options[key];\r\n      } else {\r\n        this._settings[key] = options[key];\r\n      }\r\n    });\r\n\r\n    this.correctOptions();\r\n  }\r\n\r\n  private correctOptions() {\r\n    this.coords.altDrag = this._settings.altDrag;\r\n    this.coords.mainMax = this._settings.mainMax;\r\n    this._settings.maxMinDifference =\r\n      this._settings.maxValue - this._settings.minValue;\r\n    const diff = this._settings.maxMinDifference;\r\n\r\n    if (this._settings.orientation === 'horizontal') {\r\n      this._settings.valuePerPx = diff / this._settings.mainMax;\r\n    } else if (this._settings.orientation === 'vertical') {\r\n      this._settings.valuePerPx = diff / this._settings.styles.sliderHeight;\r\n    }\r\n    this._settings.pxPerValue =\r\n      this._settings.mainMax / (diff / this._settings.stepSize);\r\n\r\n    this.validateOptions();\r\n  }\r\n\r\n  public validateOptions(): void {\r\n    // fixing user's mistake in input/contradictions in input\r\n    if (\r\n      this._settings.orientation === 'vertical' &&\r\n      this._settings.styles.sliderWidth > this._settings.styles.sliderHeight\r\n    ) {\r\n      [this._settings.styles.sliderWidth, this._settings.styles.sliderHeight] =\r\n        [this._settings.styles.sliderHeight, this._settings.styles.sliderWidth];\r\n    } else if (\r\n      this._settings.orientation === 'horizontal' &&\r\n      this._settings.styles.sliderWidth < this._settings.styles.sliderHeight\r\n    ) {\r\n      [this._settings.styles.sliderWidth, this._settings.styles.sliderHeight] =\r\n        [this._settings.styles.sliderHeight, this._settings.styles.sliderWidth];\r\n    }\r\n    if (this._settings.maxValue < this._settings.minValue) {\r\n      [this._settings.maxValue, this._settings.minValue] = [\r\n        this._settings.minValue,\r\n        this._settings.maxValue,\r\n      ];\r\n    }\r\n  }\r\n\r\n  private validate(data: ICoords) {\r\n    const dataFroValidation = { ...data };\r\n    const max = this._settings.mainMax;\r\n    const min = this._settings.mainMin;\r\n    const maxValue = this._settings.maxValue;\r\n    const minValue = this._settings.minValue;\r\n    if (dataFroValidation.main >= max) {\r\n      dataFroValidation.main = max;\r\n    } else if (dataFroValidation.main <= min) {\r\n      dataFroValidation.main = min;\r\n    }\r\n    if (dataFroValidation.value > maxValue) {\r\n      dataFroValidation.value = maxValue;\r\n    } else if (dataFroValidation.value < minValue) {\r\n      dataFroValidation.value = minValue;\r\n    }\r\n\r\n    return dataFroValidation;\r\n  }\r\n\r\n  public renew(\r\n    data: { [key: string]: number },\r\n    ori: Ori,\r\n    type: Type\r\n  ): ICoords | false {\r\n    const pxPerValue = this._settings.pxPerValue;\r\n\r\n    let axis = 0;\r\n    let margin = 0;\r\n\r\n    if (this._settings.orientation === 'vertical') {\r\n      axis = data.y;\r\n      margin = data.marginTop; // if it was mode.settings.marginTop it would be wrong\r\n    } else if (this._settings.orientation === 'horizontal') {\r\n      axis = data.x;\r\n      margin = this._settings.marginLeft;\r\n    }\r\n    this.coords.caller = 'model'; // TODO this shouldnt be here,have to think of a better way\r\n    Object.keys(data).forEach((i) => {\r\n      this.coords[i] = data[i];\r\n    });\r\n\r\n    if (data.clicked) {\r\n      this.coords.main = axis - margin;\r\n      const validatedCoords = this.validate(this.coords);\r\n      if (validatedCoords) {\r\n        this.trigger('coords changed', validatedCoords, ori, type);\r\n        return validatedCoords;\r\n      }\r\n    }\r\n    this.coords.main = axis - margin;\r\n    this.coords.value =\r\n      divisionFloor(this.coords.main, pxPerValue) * this._settings.stepSize +\r\n      this._settings.minValue;\r\n\r\n    const validatedCoords = this.validate(this.coords);\r\n    this.coords.prevMain = this.coords.main;\r\n    if (validatedCoords) {\r\n      this.trigger('coords changed', validatedCoords, ori, type);\r\n      return validatedCoords;\r\n    }\r\n    return false;\r\n  }\r\n\r\n  public calcValue(\r\n    target: HTMLDivElement,\r\n    offset: number\r\n  ): { value: number; target: HTMLDivElement } {\r\n    let margin;\r\n    if (this._settings.orientation === 'horizontal') {\r\n      margin = 'marginLeft';\r\n    } else if (this._settings.orientation === 'vertical') {\r\n      margin = 'marginTop';\r\n    }\r\n    const value =\r\n      divisionFloor(\r\n        offset - this._settings[margin],\r\n        this._settings.pxPerValue\r\n      ) * this._settings.stepSize;\r\n    return {\r\n      value: value,\r\n      target: target,\r\n    };\r\n  }\r\n\r\n  public calcMain(value: number, target: HTMLDivElement): void {\r\n    let widthOrHeight;\r\n    if (this._settings.orientation == 'horizontal') {\r\n      widthOrHeight = 'sliderWidth';\r\n    } else {\r\n      widthOrHeight = 'sliderHeight';\r\n    }\r\n    let nValue;\r\n    if ((value - this._settings.minValue) % this._settings.stepSize === 0) {\r\n      nValue = value;\r\n    } else {\r\n      nValue =\r\n        this._settings.stepSize *\r\n          Math.round(\r\n            (value - this._settings.minValue) / this._settings.stepSize\r\n          ) +\r\n        this._settings.minValue;\r\n    }\r\n    const main =\r\n      (nValue * this._settings.styles[widthOrHeight]) /\r\n      this._settings.maxMinDifference;\r\n    this.coords.main = main;\r\n    this.coords.value = nValue;\r\n    this.coords.target = target;\r\n    this.coords.caller = 'model';\r\n    const validatedCoords = this.validate(this.coords);\r\n\r\n    // it should not do that(single responsability principle)\r\n    this.trigger(\r\n      'coords changed',\r\n      validatedCoords,\r\n      this._settings.orientation,\r\n      this._settings.type\r\n    );\r\n  }\r\n\r\n  public setOption(key: string, value: string | number | boolean): void {\r\n    if (has.call(this._settings, key)) {\r\n      this._settings[key] = value;\r\n      this.trigger('settings changed');\r\n    }\r\n  }\r\n\r\n  public setOptions(options: {\r\n    [key: string]: string | number | boolean;\r\n  }): void {\r\n    this.initOptions(options);\r\n    this.correctOptions();\r\n    this.trigger('settings changed');\r\n  }\r\n\r\n  public getStyles(): IStyles {\r\n    return this._settings.styles;\r\n  }\r\n\r\n  public getStyle(option: string): string | number | boolean {\r\n    return this._settings.styles[option];\r\n  }\r\n\r\n  public getSetting(option: string): string | number | boolean {\r\n    return this._settings[option];\r\n  }\r\n\r\n  public getSettings(): Settings {\r\n    return this._settings;\r\n  }\r\n\r\n  public getItem(): Element {\r\n    return this._item;\r\n  }\r\n  // public calcInterval(data): object {\r\n  //   const interval = this.interval;\r\n\r\n  //   interval.set(data.target, data.value);\r\n\r\n  //   const value = Number(Array.from(interval.values())[0]);\r\n  //   const value2 = Number(Array.from(interval.values())[1]);\r\n\r\n  //   const floor = Math.min(value, value2);\r\n  //   const ceil = Math.max(value, value2);\r\n\r\n  //   return {\r\n  //     floor,\r\n  //     ceil,\r\n  //   };\r\n  // }\r\n}\r\nexport { Model, ICoords, Settings, Type, Ori, has };\r\n","import EventMixin from './eventemitter';\r\nimport { Model, has, Settings } from './model';\r\nimport View from './view';\r\nimport PresBuilder from './presBuilder';\r\nimport { Ori, Type } from './model';\r\n\r\ntype HandleNum = 1 | 2;\r\n\r\ntype Temp = {\r\n  offset: string;\r\n  offsetLength: string;\r\n  widthOrHeight: string;\r\n  direction: string;\r\n  margin: string;\r\n  client: string;\r\n  pinTextColor?: string;\r\n  ori?: Ori;\r\n  type?: Type; // TODO how to tell ts that there will be those paramteters later?\r\n};\r\nclass Pres extends EventMixin {\r\n  _item: Element;\r\n\r\n  _model: Model;\r\n\r\n  _view: View;\r\n\r\n  temp: Temp;\r\n\r\n  builder: PresBuilder;\r\n\r\n  pxOptions: Array<string> = ['height', 'width'];\r\n\r\n  constructor(model: Model, item: Element) {\r\n    super();\r\n    this._model = model;\r\n    this._item = item;\r\n  }\r\n\r\n  public getView(view: View): void {\r\n    this._view = view;\r\n  }\r\n\r\n  public init(): void {\r\n    this._model.validateOptions();\r\n    const orientation = this._model.getSetting('orientation');\r\n    this.temp = this.determineMetrics(orientation as Ori);\r\n    this.temp.ori = this._model._settings.orientation;\r\n    this.temp.type = this._model._settings.type;\r\n    this._model.temp = this.temp;\r\n    this._view.temp = this.temp;\r\n    let widthOrHeight: number;\r\n    if (orientation === 'horizontal') {\r\n      widthOrHeight = this._model.getStyle('sliderWidth') as number;\r\n    } else if (orientation == 'vertical') {\r\n      widthOrHeight = this._model.getStyle('sliderHeight') as number;\r\n    }\r\n    const options = this.convertOptions(this._model.getStyles());\r\n    const behavior = this._model.getSettings();\r\n    const { main, container } = this.builder.makeSlider(behavior);\r\n    this._view.renderElement(main);\r\n    if (behavior.marker) {\r\n      const marker = this.builder.makeMarker(behavior, widthOrHeight);\r\n      container.appendChild(marker);\r\n    }\r\n    this.fetchDivs();\r\n    this._view.implementStyles(options, this._model._settings.orientation);\r\n    this._model.setOptions(this._view.getOffsetsAndLimits(orientation as Ori));\r\n    this._model.setOption('built', true);\r\n    this._view.rangeInterval();\r\n  }\r\n\r\n  public firstRefresh(): void {\r\n    const { direction, ori, type } = this.temp;\r\n    let start1 = this._model._settings.startPos1;\r\n    const start2 = this._model._settings.startPos2;\r\n    const startValue1 = this._model._settings.startValue1;\r\n    const startValue2 = this._model._settings.startValue2;\r\n    if (startValue1 !== 0 || startValue2 !== 0) {\r\n      this.setValue(startValue1, 1);\r\n      if (type === 'double') {\r\n        this.setValue(startValue2, 2);\r\n      }\r\n      return;\r\n    }\r\n    const start = start1 || start2;\r\n    const coords = this._model.coords;\r\n    coords.caller = 'model';\r\n    this._view._elements._handles.forEach((item) => {\r\n      coords.target = item as HTMLDivElement;\r\n      coords.main = start;\r\n      coords.value = this._model.calcValue(\r\n        item as HTMLDivElement,\r\n        item.getBoundingClientRect()[direction]\r\n      ).value;\r\n      this.transferData(coords, ori, type); // почему если здесь поставить this._view.refreshCoord, то будет ошибка maximum call stack exceeded\r\n      start1 = undefined;\r\n    });\r\n  }\r\n\r\n  public showValue(handle) {\r\n    const { direction } = this.temp;\r\n    const offset = handle.getBoundingClientRect()[direction];\r\n    const { value, target } = this._model.calcValue(handle, offset);\r\n    this._view.showValue(target, value);\r\n  }\r\n\r\n  public fetchDivs(): void {\r\n    const className = this._model._settings.className;\r\n    const ori: Ori = this._model._settings.orientation;\r\n    this._view.fetchDivs(ori, className);\r\n  }\r\n\r\n  private convertOptions(options: Record<string, unknown>) {\r\n    const newOptions = {\r\n      slider: {\r\n        width: 0,\r\n        height: 0,\r\n      },\r\n      progressBar: {\r\n        'background-color': '',\r\n      },\r\n      handle: {\r\n        'background-color': '',\r\n      },\r\n      tool: {\r\n        color: '',\r\n      },\r\n    };\r\n    Object.keys(options).forEach((i) => {\r\n      if (i.toString().includes('slider')) {\r\n        let option = i.slice(6).toLowerCase();\r\n        if (option === 'color') {\r\n          option = 'background-color';\r\n        }\r\n        newOptions.slider[option] = options[i];\r\n        if (this.pxOptions.includes(option)) {\r\n          newOptions.slider[option] = `${options[i]}px`;\r\n        } else {\r\n          newOptions.slider[option] = options[i];\r\n        }\r\n      } else if (i.toString().includes('progressBar')) {\r\n        let option = i.slice(11).toLowerCase();\r\n        if (option === 'color') {\r\n          option = 'background-color';\r\n        }\r\n        newOptions.progressBar[option] = options[i];\r\n        if (this.pxOptions.includes(option)) {\r\n          newOptions.progressBar[option] = `${options[i]}px`;\r\n        } else {\r\n          newOptions.progressBar[option] = options[i];\r\n        }\r\n      } else if (i.toString().includes('handle')) {\r\n        let option = i.slice(6).toLowerCase();\r\n        if (option === 'color') {\r\n          option = 'background-color';\r\n        }\r\n        newOptions.handle[option] = options[i];\r\n        if (this.pxOptions.includes(option)) {\r\n          newOptions.handle[option] = `${options[i]}px`;\r\n        } else {\r\n          newOptions.handle[option] = options[i];\r\n        }\r\n      } else if (i.toString().includes('tool')) {\r\n        let option = i.slice(4).toLowerCase();\r\n        if (option === 'color') {\r\n          option = 'background-color';\r\n        } else if (option === 'textcolor') {\r\n          option = 'color';\r\n        }\r\n        newOptions.tool[option] = options[i];\r\n        if (this.pxOptions.includes(option)) {\r\n          newOptions.tool[option] = `${options[i]}px`;\r\n        } else {\r\n          newOptions.tool[option] = options[i];\r\n        }\r\n      }\r\n    });\r\n    return newOptions;\r\n  }\r\n\r\n  public onMouseDown(): void {\r\n    const handles = this._view._elements._handles;\r\n    const container = this._view._elements._sliderContainer;\r\n    const slider = this._view._elements._slider;\r\n    const marginLeft = slider.getBoundingClientRect().left; // TODO should take from model?\r\n    const marginTop = slider.getBoundingClientRect().top;\r\n    let ori: Ori;\r\n    let type: Type;\r\n    let shift: number;\r\n    this._model.on('coords changed', this.transferData.bind(this));\r\n    this._model.on('settings changed', this.renewTemp.bind(this));\r\n\r\n    handles.forEach((handle) => {\r\n      handle.ondragstart = () => {\r\n        return false;\r\n      };\r\n      handle.addEventListener('pointerdown', (event) => {\r\n        ori = this._model._settings.orientation;\r\n        type = this._model._settings.type;\r\n        event.preventDefault();\r\n\r\n        const target = event.target as HTMLDivElement;\r\n        const { direction, client } = this.temp;\r\n        shift = event[client] - target.getBoundingClientRect()[direction];\r\n\r\n        const mouseMove = (e) => {\r\n          this.transferData(\r\n            {\r\n              y: e.clientY,\r\n              x: e.clientX,\r\n              shift: shift,\r\n              marginLeft: marginLeft,\r\n              clicked: false,\r\n              marginTop: marginTop,\r\n              target: event.target,\r\n            },\r\n            ori,\r\n            type\r\n          );\r\n        };\r\n        const onMouseUp = (e) => {\r\n          document.removeEventListener('pointermove', mouseMove);\r\n          document.removeEventListener('pointerup', onMouseUp);\r\n        };\r\n        document.addEventListener('pointermove', mouseMove);\r\n        document.addEventListener('pointerup', onMouseUp);\r\n      });\r\n    });\r\n\r\n    container.addEventListener('click', (event) => {\r\n      ori = this._model._settings.orientation;\r\n      type = this._model._settings.type;\r\n      const target = event.target as HTMLElement;\r\n      if (target.className.includes('jsSlider-clickable')) {\r\n        const value =\r\n          (target.getElementsByClassName('marker-value')[0] as HTMLElement) ||\r\n          target;\r\n        this.transferData(\r\n          {\r\n            y: event.clientY,\r\n            x: target.getBoundingClientRect().left,\r\n            value: value.dataset.value,\r\n            clicked: true,\r\n            target: target,\r\n            marginLeft: marginLeft,\r\n            marginTop: marginTop,\r\n          },\r\n          ori,\r\n          type\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  private transferData(data, ori?: Ori, type?: Type): void {\r\n    const dataForTransfer = { ...data };\r\n    if (dataForTransfer.caller === 'model') {\r\n      this._view.refreshCoords(dataForTransfer, ori, type);\r\n      return;\r\n    }\r\n    this._model.renew(dataForTransfer, ori, type);\r\n  }\r\n\r\n  public setValue(value: number, target: HandleNum): void {\r\n    const viewEls = this._view._elements;\r\n    let handle: HTMLDivElement;\r\n    if (target === 1) {\r\n      handle = viewEls._handles[0] as HTMLDivElement;\r\n    } else if (target === 2) {\r\n      if (this.temp.type === 'double') {\r\n        handle = viewEls._handles[1] as HTMLDivElement;\r\n      } else {\r\n        throw new ReferenceError('Can not reference absent handle');\r\n      }\r\n    }\r\n    this._model.calcMain(value, handle);\r\n  }\r\n\r\n  private determineMetrics(orientation: Ori) {\r\n    let offset: string;\r\n    let widthOrHeight: string;\r\n    let direction: string;\r\n    let margin: string;\r\n    let client: string;\r\n    let offsetLength: string;\r\n    if (orientation === 'horizontal') {\r\n      offset = 'offsetLeft';\r\n      widthOrHeight = 'width';\r\n      direction = 'left';\r\n      margin = 'marginLeft';\r\n      client = 'clientX';\r\n      offsetLength = 'offsetWidth';\r\n    } else if (orientation === 'vertical') {\r\n      offset = 'offsetTop';\r\n      widthOrHeight = 'height';\r\n      direction = 'top';\r\n      margin = 'marginTop';\r\n      client = 'clientY';\r\n      offsetLength = 'offsetHeight';\r\n    }\r\n    return { offset, offsetLength, widthOrHeight, direction, margin, client };\r\n  }\r\n\r\n  public getSettings(): Settings {\r\n    return this._model.getSettings();\r\n  }\r\n\r\n  private renewTemp() {\r\n    Object.keys(this.temp).forEach((key) => {\r\n      if (has.call(this._model._settings, key)) {\r\n        this.temp[key] = this._model._settings[key];\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nexport { Temp, Pres };\r\n","import View from './view';\r\nimport { Settings, Model } from './model';\r\nimport { Pres } from './pres';\r\nimport { Temp } from './pres';\r\nimport { checkForZero } from './utils';\r\n\r\nclass PresBuilder {\r\n  _view: View;\r\n\r\n  _pres: Pres;\r\n\r\n  settings: Settings;\r\n\r\n  temp: Temp;\r\n\r\n  _model: Model;\r\n\r\n  constructor(items: {\r\n    view: View;\r\n    model: Model;\r\n    settings: Settings;\r\n    pres: Pres;\r\n  }) {\r\n    this._view = items.view;\r\n    this._model = items.model;\r\n    this.settings = items.settings;\r\n    this._pres = items.pres;\r\n  }\r\n\r\n  public makeSlider(behavior: Settings): {\r\n    main: Node;\r\n    container: Node;\r\n    slider: Node;\r\n  } {\r\n    const viewEls = this._view._elements;\r\n    const { ori, direction } = this._pres.temp;\r\n    const main = document.createElement('div');\r\n    main.classList.add('slider-main');\r\n    const container = document.createElement('div');\r\n    const slider = document.createElement('div');\r\n    slider.classList.add('slider');\r\n    const range = document.createElement('div');\r\n    range.classList.add('slider-range');\r\n\r\n    const handle = document.createElement('div');\r\n    if (ori === 'horizontal') {\r\n      range.style.width = '0px';\r\n      handle.style[direction] = '0px';\r\n    } else if (ori === 'vertical') {\r\n      range.style.height = '0px';\r\n      handle.style[direction] = '0px';\r\n    }\r\n    const tool = document.createElement('div');\r\n    const tooltipContainer = document.createElement('div');\r\n    tooltipContainer.className = `tooltipContainer tooltipContainer--${ori}`;\r\n    const tooltipStick = document.createElement('div');\r\n    tooltipStick.className = `tooltipStick tooltipStick--${ori}`;\r\n    tooltipContainer.append(tooltipStick);\r\n    this._view._elements._tooltipsSticks.push(tooltipStick);\r\n    tooltipContainer.append(tool);\r\n    handle.append(tooltipContainer);\r\n    const min = document.createElement('span');\r\n    min.className = 'jsOffset values jsSlider-clickable';\r\n    const max = document.createElement('span');\r\n    max.className = 'jsOffset values jsSlider-clickable';\r\n    main.append(min);\r\n    container.append(slider);\r\n    main.append(container);\r\n    main.append(max);\r\n    slider.appendChild(range);\r\n    slider.appendChild(handle);\r\n    handle.className = `slider-handle slider-handle--${ori}`;\r\n    viewEls._handles.push(handle);\r\n    container.className = `slider-container slider-container--${ori}`;\r\n    tool.className = `tooltip tooltip--${ori}`;\r\n\r\n    if (behavior.type !== 'single') {\r\n      this.addHandle(handle, range, direction);\r\n    }\r\n    min.textContent = String(behavior.minValue);\r\n    min.dataset.value = min.textContent;\r\n    max.textContent = String(behavior.maxValue);\r\n    max.dataset.value = max.textContent;\r\n    min.classList.add(`slider-min--${ori}`);\r\n    max.classList.add(`slider-max--${ori}`);\r\n    main.classList.add(`slider-main--${ori}`);\r\n\r\n    return { main: main as Node, container, slider };\r\n  }\r\n\r\n  public makeMarker(behavior: Settings, widthOrHeight: number): HTMLElement {\r\n    const orientation = this._pres.temp.ori;\r\n    const handle1 = this._view._elements._handles[0];\r\n    const { margin: marginCss } = this._pres.temp;\r\n    const markerDiv = document.createElement('div');\r\n    const { valuesForMarkers, altDrag, margin } = this.calcPins(\r\n      behavior,\r\n      widthOrHeight\r\n    );\r\n    const listOfValues = valuesForMarkers;\r\n    let j = 0;\r\n\r\n    for (let i = 0; i < valuesForMarkers.length - 1; i += 1) {\r\n      const majorMarker = document.createElement('div');\r\n      markerDiv.append(majorMarker);\r\n      const markerValue = document.createElement('label');\r\n      markerValue.className = `jsSlider-clickable marker-value marker-value--${orientation}`;\r\n      markerDiv.classList.add(`slider-marker--${orientation}`);\r\n      majorMarker.className = `jsOffset marker--major marker--major--${orientation}`;\r\n      if (i === 0) {\r\n        majorMarker.style[marginCss] = margin - handle1.offsetWidth / 2 + 'px';\r\n      } else {\r\n        majorMarker.style[marginCss] = margin - handle1.offsetWidth / 2 + 'px';\r\n      }\r\n\r\n      if (!altDrag) {\r\n        const value = listOfValues[j];\r\n        majorMarker.dataset.value = value.toString();\r\n        markerValue.dataset.value = value.toString();\r\n        markerValue.textContent = value.toString();\r\n        majorMarker.append(markerValue);\r\n      } else {\r\n        const value = listOfValues[j];\r\n        majorMarker.dataset.value = value.toString();\r\n        markerValue.dataset.value = value.toString();\r\n        markerValue.textContent = value.toString();\r\n        majorMarker.append(markerValue);\r\n        j += 1;\r\n      }\r\n    }\r\n    markerDiv.className = `slider-marker slider-marker--${orientation}`;\r\n\r\n    return markerDiv;\r\n  }\r\n\r\n  public addHandle(\r\n    handl?: HTMLElement,\r\n    rang?: HTMLElement,\r\n    directio?: string\r\n  ): void {\r\n    let handle: HTMLElement;\r\n    let range: HTMLElement;\r\n    let direction: string;\r\n    const viewEls = this._view._elements;\r\n    this._model.setOption('type', 'double');\r\n\r\n    if (!handl) {\r\n      handle = viewEls._handles[0];\r\n      range = viewEls._range;\r\n    } else {\r\n      handle = handl;\r\n      range = rang;\r\n      direction = directio;\r\n    }\r\n    const behavior = this._model.getSettings();\r\n    if (behavior.orientation === 'horizontal') {\r\n      direction = 'left';\r\n    } else {\r\n      direction = 'top';\r\n    }\r\n    const handleCLone: HTMLElement = handle.cloneNode(true) as HTMLElement;\r\n    handleCLone.style[direction] = '20px';\r\n    const tooltipContainer = handleCLone.getElementsByClassName(\r\n      'tooltipContainer'\r\n    )[0] as HTMLElement;\r\n    this._view._elements._tooltipContainers.push(tooltipContainer);\r\n    handle.after(range);\r\n    range.after(handleCLone);\r\n    const stick = this._view.fetchHTMLEl('tooltipStick', true) as HTMLElement;\r\n    viewEls._tooltipsSticks.push(stick);\r\n    viewEls._handles.push(handleCLone);\r\n    if (this._model._settings.built) {\r\n      this._view.rangeInterval();\r\n      this._pres.showValue(handleCLone);\r\n    }\r\n  }\r\n\r\n  public removeHandle(): void {\r\n    const viewEls = this._view._elements;\r\n    this._model.setOption('type', 'single');\r\n    const orient = this._pres.temp.ori;\r\n    if (orient === 'horizontal') {\r\n      viewEls._range.style.left = '0px';\r\n    } else if (orient === 'vertical') {\r\n      viewEls._range.style.top = '0px';\r\n    }\r\n    viewEls._handles[0].before(viewEls._range);\r\n    viewEls._handles[1].remove();\r\n    viewEls._handles = viewEls._handles.slice(0, 1);\r\n\r\n    if (this._model._settings.built) {\r\n      this._view.rangeInterval();\r\n    }\r\n  }\r\n\r\n  private calcPins(behavior, widthOrHeight) {\r\n    let altDrag: boolean;\r\n\r\n    let majorMarkers = Math.trunc(\r\n      (behavior.maxValue - behavior.minValue) / behavior.stepSize\r\n    );\r\n    // 40px between pins is the optimal number,if it is smaller,we make it 40\r\n    if (widthOrHeight / majorMarkers < 40) {\r\n      altDrag = true;\r\n      this._model.setOptions({\r\n        altDrag: altDrag,\r\n      });\r\n      majorMarkers = this._model._settings._minPins;\r\n    }\r\n\r\n    const diff = this._model._settings.maxMinDifference;\r\n    const ss = this._model._settings.stepSize;\r\n    // console.log(\r\n    //   '🚀 ~ PresBuilder ~ calcPins ~ n',\r\n    //   Math.trunc(diff / (ss * majorMarkers)),\r\n    //   diff,\r\n    //   ss,\r\n    //   majorMarkers\r\n    // );\r\n\r\n    const n = checkForZero(Math.round(diff / (ss * majorMarkers))); // каждый n-ый элемент из возможныъ value будет помещен на scale\r\n\r\n    const valuesForMarkers = [];\r\n    for (let i = n; i < diff / ss; i += n) {\r\n      const value = ss * i + behavior.minValue;\r\n      valuesForMarkers.push(value);\r\n    }\r\n    const margin = widthOrHeight / valuesForMarkers.length;\r\n    return { valuesForMarkers, majorMarkers, altDrag, margin };\r\n  }\r\n}\r\n\r\nexport default PresBuilder;\r\n","function elemsDiff(arr: number[]) {\r\n  const res = [];\r\n  for (let i = 0; i < arr.length - 1; i += 1) {\r\n    const result = +arr[i + 1] - +arr[i];\r\n    res.push(result);\r\n  }\r\n  return res;\r\n}\r\n\r\nfunction checkForZero(number: number) {\r\n  if (number > 0) {\r\n    return number;\r\n  }\r\n  throw new Error('can not operate with non-positive numbers');\r\n}\r\n\r\n// shortens value to format  e.g.'1.3k'\r\nfunction shortenValue(x: number): string {\r\n  let value: string;\r\n  if (x.toString().length > 3) {\r\n    value = (x / 1000).toFixed(1) + 'k';\r\n  } else {\r\n    value = String(x);\r\n  }\r\n  return value;\r\n}\r\n\r\nfunction divisionFloor(x: number, y: number): number {\r\n  const result = Math.trunc(x / y);\r\n  return result;\r\n}\r\n\r\nexport { elemsDiff, checkForZero, shortenValue, divisionFloor };\r\n","import EventMixin from './eventemitter';\r\nimport { Pres } from './pres';\r\nimport { shortenValue } from './utils';\r\nimport { Type, Ori } from './model';\r\ntype Elements<T> = {\r\n  _slider: T;\r\n  _sliderMain: T;\r\n  _scale: T;\r\n  _range: T;\r\n  _tooltipContainers: T[];\r\n  _handles: T[];\r\n  _sliderContainer: T;\r\n  _tooltips: T[];\r\n  _tooltipsSticks: T[];\r\n  _pins: T[];\r\n};\r\n\r\nclass View extends EventMixin {\r\n  divsContainingValues: { div: HTMLElement; value: string }[];\r\n\r\n  valuesFromDivs: string[];\r\n\r\n  offsetArray: number[];\r\n\r\n  pinsCoordinatesItems: { div: HTMLElement; offset: number }[];\r\n\r\n  pinsCoordinates: number[];\r\n\r\n  temp: { [key: string]: string | number };\r\n\r\n  _pres: Pres;\r\n\r\n  _item: HTMLElement;\r\n\r\n  orientation: string;\r\n\r\n  public _elements: Elements<HTMLElement> = {\r\n    _slider: null,\r\n    _sliderMain: null,\r\n    _sliderContainer: null,\r\n    _scale: null,\r\n    _range: null,\r\n    _tooltipContainers: [],\r\n    _handles: [],\r\n    _tooltips: [],\r\n    _tooltipsSticks: [],\r\n    _pins: [],\r\n  };\r\n\r\n  constructor(pres, options, item) {\r\n    super();\r\n    this._pres = pres;\r\n    this._item = item;\r\n  }\r\n\r\n  public implementStyles(options, pos) {\r\n    this.initiateOptions(options);\r\n    // this.temp.orientation = pos;\r\n    const tooltipLeftOffset =\r\n      this._elements._tooltips[0].getBoundingClientRect().left;\r\n    if (tooltipLeftOffset < 0) {\r\n      this._elements._sliderContainer.classList.add(\r\n        'slider-container--vertical--corrected'\r\n      );\r\n      const min = this.fetchHTMLEl('slider-min--vertical', true) as HTMLElement;\r\n      min.style.left = '10px';\r\n      this._elements._tooltipContainers.forEach((item) => {\r\n        item.classList.add('tooltipContainer--vertical--corrected');\r\n      });\r\n    }\r\n    const valuesDivs = this.fetchHTMLEl('values', false) as HTMLElement[];\r\n    valuesDivs.forEach((div) => {\r\n      div.classList.add('values--corrected');\r\n    });\r\n    return {\r\n      slider: this._elements._slider,\r\n      range: this._elements._range,\r\n      handles: this._elements._handles,\r\n      wrapper: this._elements._sliderMain,\r\n    };\r\n  }\r\n\r\n  public renderElement(element: Node, where: HTMLElement = this._item): void {\r\n    where.append(element);\r\n  }\r\n\r\n  public getOffsetsAndLimits(ori: Ori): Record<string, number> {\r\n    const { offsetLength } = this.temp;\r\n    const mainMax =\r\n      this._elements._sliderMain[offsetLength] -\r\n      this._elements._handles[0][offsetLength] / 2;\r\n    const mainMin = this._elements._handles[0][offsetLength] / 2;\r\n    const marginTop = this._elements._slider.getBoundingClientRect().top;\r\n    const marginLeft = this._elements._slider.getBoundingClientRect().left;\r\n    return {\r\n      mainMax,\r\n      mainMin,\r\n      marginTop,\r\n      marginLeft,\r\n    };\r\n  }\r\n\r\n  public fetchHTMLEl(\r\n    className: string,\r\n    single: boolean,\r\n    elem: ParentNode = this._item\r\n  ): HTMLElement | HTMLElement[] {\r\n    const items = elem.querySelectorAll(`.${className}`);\r\n    const nodes = [...items];\r\n\r\n    if (single) {\r\n      return nodes[0] as HTMLElement;\r\n    }\r\n    return nodes as HTMLElement[];\r\n  }\r\n\r\n  public fetchDivs(orientation: Ori, defClassName: string) {\r\n    this._elements._sliderMain = this.fetchHTMLEl(\r\n      `${defClassName}-main`,\r\n      true\r\n    ) as HTMLElement;\r\n    this._elements._slider = this.fetchHTMLEl(\r\n      defClassName,\r\n      true\r\n    ) as HTMLElement;\r\n    this._elements._range = this.fetchHTMLEl(\r\n      `${defClassName}-range`,\r\n      true\r\n    ) as HTMLElement;\r\n    this._elements._handles = this.fetchHTMLEl(\r\n      `${defClassName}-handle--${orientation}`,\r\n      false\r\n    ) as HTMLElement[];\r\n    this._elements._tooltips = this.fetchHTMLEl(\r\n      `tooltip`,\r\n      false\r\n    ) as HTMLElement[];\r\n    this._elements._sliderContainer = this.fetchHTMLEl(\r\n      `${defClassName}-container`,\r\n      true\r\n    ) as HTMLElement;\r\n    this._elements._scale = this.fetchHTMLEl(\r\n      `${defClassName}-marker`,\r\n      true\r\n    ) as HTMLElement;\r\n    this._elements._tooltipContainers = this.fetchHTMLEl(\r\n      'tooltipContainer',\r\n      false\r\n    ) as HTMLElement[];\r\n    this._elements._pins = this.fetchHTMLEl(\r\n      'jsSlider-clickable',\r\n      false\r\n    ) as HTMLElement[];\r\n    // TODO Array.from\r\n    const divsContainingValues: { div: HTMLElement; value: string }[] =\r\n      Array.from(this._item.getElementsByClassName('jsSlider-clickable')).map(\r\n        (item: HTMLElement) => {\r\n          return {\r\n            div: item,\r\n            value: item.textContent,\r\n          };\r\n        }\r\n      );\r\n\r\n    this.divsContainingValues = divsContainingValues;\r\n    this.valuesFromDivs = divsContainingValues.map((item) => item.value);\r\n    // console.log(this.temp);\r\n\r\n    const { offset } = this.temp;\r\n    const pinsCoordinatesItems = Array.from(\r\n      // TODO Array.from\r\n      this._item.getElementsByClassName('jsOffset')\r\n    ).map((item: HTMLElement) => {\r\n      return { div: item, offset: item[offset] };\r\n    });\r\n\r\n    const pinsCoordinates = pinsCoordinatesItems.map((item) => {\r\n      return item.offset;\r\n    });\r\n    this.pinsCoordinatesItems = pinsCoordinatesItems;\r\n    this.pinsCoordinates = pinsCoordinates;\r\n  }\r\n\r\n  private initiateOptions(options) {\r\n    Object.keys(options).forEach((option) => {\r\n      if (typeof options[option] === 'object') {\r\n        Object.entries(options[option]).forEach(([i, j]) => {\r\n          if (option.toString().includes('slider')) {\r\n            this._elements._slider.style[i] = j;\r\n          } else if (option.toString().includes('progressBar')) {\r\n            this._elements._range.style[i] = j;\r\n          } else if (option.toString().includes('markUp')) {\r\n            this._elements._slider.style[i] = j;\r\n          } else if (option.toString().includes('handle')) {\r\n            this._elements._handles.forEach((handle) => {\r\n              handle.style[i] = j;\r\n            });\r\n          } else if (option.toString().includes('tool')) {\r\n            this._elements._tooltips.forEach((tool) => {\r\n              tool.style[i] = j;\r\n            });\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  public refreshCoords(data, ori: Ori, type: Type): void {\r\n    const isClickedOnPin = data.clicked;\r\n    const isNormallyDragged = data.altDrag;\r\n    let newLeft: number;\r\n    let coordsForUse;\r\n    let handle: HTMLElement;\r\n    let value = data.value;\r\n    const { widthOrHeight, direction } = this.temp;\r\n    if (type === 'single') {\r\n      handle = this._elements._handles[0];\r\n    } else if (type === 'double') {\r\n      handle = data.target;\r\n    }\r\n    const range = this._elements._range;\r\n    const toolTip = this.fetchHTMLEl(`tooltip`, true, handle) as HTMLDivElement;\r\n    const newCoords = { ...data };\r\n    if (isClickedOnPin) {\r\n      coordsForUse = this.reactOnClick(newCoords, ori, type);\r\n      newLeft = coordsForUse.newLeft;\r\n    } else if (isNormallyDragged) {\r\n      coordsForUse = this.reactOnDrag(newCoords);\r\n      newLeft = coordsForUse.newLeft;\r\n    } else {\r\n      const { newLeft: nl, value: v } = this.pinnedDrag(newCoords);\r\n      newLeft = nl;\r\n      value = v;\r\n    }\r\n    handle.style[direction] = newLeft + 'px';\r\n    if (type === 'double') {\r\n      this.rangeInterval();\r\n    } else {\r\n      range.style[widthOrHeight] = newLeft + handle.offsetWidth / 2 + 'px';\r\n    }\r\n    if (!isClickedOnPin) {\r\n      handle.dataset.value = value;\r\n      value = shortenValue(value);\r\n      toolTip.textContent = value;\r\n    }\r\n  }\r\n\r\n  private reactOnDrag(data) {\r\n    let newLeft: number;\r\n    const shift = data.shift || 0;\r\n    let value: number;\r\n    const { widthOrHeight } = this.temp;\r\n    const handle = data.target;\r\n    const range = this._elements._range;\r\n    if (data.value === 0) {\r\n      range.style[widthOrHeight] = '0';\r\n    }\r\n    const isNormallyDragged = data.altDrag;\r\n    if (isNormallyDragged) {\r\n      newLeft = data.main - shift;\r\n    } else {\r\n      newLeft += handle.offsetWidth / 2;\r\n    }\r\n    return {\r\n      newLeft,\r\n      value,\r\n    };\r\n  }\r\n\r\n  private pinnedDrag(data): { newLeft: number; value: number } {\r\n    let newLeft: number;\r\n    const handleWidth = this._elements._handles[0].offsetWidth;\r\n    // eslint-disable-next-line prefer-const\r\n    let { direction, margin } = this.temp;\r\n    margin = data[margin] as number;\r\n    const pin = this.matchHandleAndPin(data.main);\r\n    const value = Number(pin.dataset.value);\r\n    const pinCoords = pin.getBoundingClientRect()[direction];\r\n    newLeft = pinCoords - margin - handleWidth / 2;\r\n    if (pin.className.includes('slider-min')) {\r\n      newLeft = 0;\r\n    } else if (pin.className.includes('slider-max')) {\r\n      newLeft = data.mainMax - handleWidth / 2;\r\n    }\r\n\r\n    return { newLeft, value };\r\n  }\r\n\r\n  private reactOnClick(data, ori: Ori, type: Type) {\r\n    if (type === 'double') {\r\n      return false;\r\n    }\r\n\r\n    const handle = this._elements._handles[0];\r\n    const handleWidth = handle.offsetWidth;\r\n    const pin = data.target.parentElement;\r\n    const pinPointsValues = this.valuesFromDivs;\r\n    const toolTip = this._elements._tooltips[0];\r\n    const { widthOrHeight, direction, margin } = this.temp;\r\n    const pinCoords = pin.getBoundingClientRect()[direction];\r\n    const newLeft = pinCoords - data[margin] - handleWidth / 2;\r\n    handle.style[direction] = newLeft + 'px';\r\n    this._elements._range.style[widthOrHeight] = newLeft + 'px';\r\n    toolTip.textContent = data.value;\r\n    if (pinPointsValues.includes(data.value)) {\r\n      this.divsContainingValues.forEach((i) => {\r\n        const item = i as { div: HTMLElement; value: string };\r\n        if (item.value === data.value) {\r\n          this.divsContainingValues.forEach(() => {\r\n            const item2 = i as { div: HTMLElement; value: string };\r\n            item2.div.style.color = '';\r\n          });\r\n          item.div.style.color = String(this.temp.pinTextColor);\r\n        }\r\n      });\r\n    }\r\n    return { newLeft, pin };\r\n  }\r\n\r\n  public rangeInterval(): void {\r\n    const handle1 = this._elements._handles[0];\r\n    const handle2 = this._elements._handles[1];\r\n    const { widthOrHeight, direction } = this.temp;\r\n    const minOffset = parseFloat(handle1.style[direction]);\r\n    let maxOffset: number | null;\r\n    if (handle2) {\r\n      maxOffset = parseFloat(handle2.style[direction]); // only works if style.left is in pxs\r\n    } else {\r\n      maxOffset = null;\r\n    }\r\n    const length = Math.abs(minOffset - maxOffset);\r\n    const handleOffset = Math.min(minOffset, maxOffset);\r\n    this._elements._range.style[direction] = handleOffset + 'px';\r\n\r\n    this._elements._range.style[widthOrHeight] =\r\n      length + handle1.offsetWidth / 2 + 'px';\r\n  }\r\n\r\n  public showValue(target: HTMLDivElement, value: number): void {\r\n    const tool = target.getElementsByClassName('tooltip')[0];\r\n    target.dataset.value = String(Math.abs(value));\r\n    tool.textContent = String(Math.abs(value));\r\n  }\r\n\r\n  private matchHandleAndPin(main: number) {\r\n    const offsets = this.pinsCoordinatesItems;\r\n    const offsetsNums = this.pinsCoordinates;\r\n    let minDiff = Infinity;\r\n    let pinOffset: number;\r\n    offsetsNums.forEach((offset) => {\r\n      const leastDiff = Math.abs(main - Number(offset));\r\n      if (leastDiff < minDiff) {\r\n        minDiff = leastDiff;\r\n        pinOffset = Number(offset);\r\n      }\r\n    });\r\n    let pin: HTMLElement;\r\n    offsets.forEach((i) => {\r\n      const item = i;\r\n      if (pinOffset === item.offset) {\r\n        pin = item.div;\r\n        return pin;\r\n      }\r\n      return false;\r\n    });\r\n    return pin;\r\n  }\r\n}\r\n\r\nexport { Ori };\r\nexport default View;\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import App from './app';\r\n\r\nimport './style.scss';\r\n\r\ndeclare let $: any;\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n\r\nconst plugins = new Map();\r\n\r\nclass Plugin extends $ {\r\n  item: HTMLElement;\r\n\r\n  states: Record<string, any>;\r\n\r\n  app: App;\r\n\r\n  $item: any;\r\n\r\n  data: any;\r\n\r\n  constructor(HTMLElement, app) {\r\n    super();\r\n\r\n    this.item = HTMLElement;\r\n\r\n    this.states = {\r\n      progressBar: app._view._elements._range.style.display !== 'none',\r\n\r\n      range: app.isRange(),\r\n\r\n      orientation: app._model.getSetting('orientation'),\r\n\r\n      scale: app._model.getSetting('marker'),\r\n\r\n      tip: app._model.getSetting('toolTip'),\r\n\r\n      stick: app._view._elements._tooltipsSticks[0].style.display !== 'none',\r\n    };\r\n\r\n    this.app = app;\r\n\r\n    this.$item = $(HTMLElement);\r\n  }\r\n\r\n  tilt = () => {\r\n    this.destroy();\r\n\r\n    this.app.tilt();\r\n\r\n    this.restore();\r\n\r\n    return this;\r\n  };\r\n\r\n  scale = (option: boolean | undefined) => {\r\n    if (typeof option !== 'boolean') {\r\n      this.states.scale = !this.states.scale;\r\n\r\n      this.app.scale(this.states.scale);\r\n\r\n      return this;\r\n    }\r\n\r\n    this.states.scale = !this.states.scale;\r\n\r\n    this.app.scale(option);\r\n\r\n    return this;\r\n  };\r\n\r\n  bar = (option: boolean | undefined) => {\r\n    if (typeof option !== 'boolean') {\r\n      this.states.progressBar = !this.states.progressBar;\r\n\r\n      this.app.bar(this.states.progressBar);\r\n\r\n      return this;\r\n    }\r\n\r\n    this.states.progressBar = !this.states.progressBar;\r\n\r\n    this.app.bar(option);\r\n\r\n    return this;\r\n  };\r\n\r\n  tip = (option: boolean | undefined) => {\r\n    if (typeof option !== 'boolean') {\r\n      this.states.tip = !this.states.tip;\r\n\r\n      this.app.tip(this.states.tip);\r\n\r\n      return this;\r\n    }\r\n\r\n    this.states.tip = !this.states.tip;\r\n\r\n    this.app.tip(option);\r\n\r\n    return this;\r\n  };\r\n\r\n  range = (option: boolean | undefined) => {\r\n    if (typeof option !== 'boolean') {\r\n      this.states.range = !this.states.range;\r\n\r\n      this.app.range(this.states.range);\r\n\r\n      return this;\r\n    }\r\n\r\n    this.states.range = !this.states.range;\r\n\r\n    this.app.range(option);\r\n\r\n    return this;\r\n  };\r\n\r\n  setValue = (value: number, number: 1 | 2) => {\r\n    this.app.setValue(value, number);\r\n\r\n    return this;\r\n  };\r\n\r\n  setLimits = (min: number, max: number) => {\r\n    this.destroy();\r\n\r\n    this.app.setLimits(min, max);\r\n\r\n    this.restore();\r\n\r\n    return this;\r\n  };\r\n\r\n  isRange = () => {\r\n    return this.app.isRange();\r\n  };\r\n\r\n  setStep = (value) => {\r\n    this.destroy();\r\n\r\n    this.app.setStep(value);\r\n\r\n    this.restore();\r\n\r\n    return this;\r\n  };\r\n\r\n  stick = (option: boolean) => {\r\n    this.app.stick(option);\r\n\r\n    return this;\r\n  };\r\n\r\n  destroy = () => {\r\n    this.$item.data('handle1', this.app.getValue(1));\r\n\r\n    if (this.isRange()) {\r\n      this.$item.data('handle2', this.app.getValue(2));\r\n    }\r\n\r\n    this.$item.html('');\r\n  };\r\n\r\n  restore = () => {\r\n    if (Object.keys(this.$item.data()).length === 0) {\r\n      return this.$item;\r\n    }\r\n\r\n    this.setValue(this.$item.data('handle1'), 1);\r\n\r\n    if (this.isRange()) {\r\n      this.setValue(this.$item.data('handle2'), 2);\r\n    }\r\n\r\n    return false;\r\n  };\r\n}\r\n\r\n$.fn.slider = function slider(\r\n  this: JQuery,\r\n  options?: Record<string, unknown>\r\n): Plugin {\r\n  const app = new App(this[0], options);\r\n  plugins.set(this[0], { plugin: $(this), app: app });\r\n  return new Plugin(this[0], app);\r\n};\r\n\r\nconst data = {\r\n  className: 'slider',\r\n\r\n  orientation: 'horizontal',\r\n\r\n  type: 'single',\r\n\r\n  stepSize: 90,\r\n\r\n  maxValue: 400,\r\n\r\n  minValue: 0,\r\n\r\n  toolTip: true,\r\n\r\n  marker: true,\r\n\r\n  progressBarColor: 'brown',\r\n\r\n  sliderColor: 'red',\r\n\r\n  sliderWidth: 5,\r\n\r\n  sliderHeight: 200,\r\n\r\n  pinTextColor: 'green',\r\n\r\n  toolTextColor: 'red',\r\n};\r\n\r\n// $('#slider').slider(data);\r\n\r\nexport default Plugin;\r\n"],"sourceRoot":""}