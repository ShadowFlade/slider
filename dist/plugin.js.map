{"version":3,"sources":["webpack://test_plugin/./ts-src/style.scss","webpack://test_plugin/./ts-src/app.ts","webpack://test_plugin/./ts-src/eventemitter.ts","webpack://test_plugin/./ts-src/model.ts","webpack://test_plugin/./ts-src/pres.ts","webpack://test_plugin/./ts-src/view.ts","webpack://test_plugin/webpack/bootstrap","webpack://test_plugin/webpack/runtime/compat get default export","webpack://test_plugin/webpack/runtime/define property getters","webpack://test_plugin/webpack/runtime/hasOwnProperty shorthand","webpack://test_plugin/webpack/runtime/make namespace object","webpack://test_plugin/./ts-src/jquery.slider.ts"],"names":[],"mappings":"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","file":"plugin.js","sourcesContent":["// extracted by mini-css-extract-plugin","// import * as $ from 'jquery'\r\nimport Model from './model';\r\nimport View from './view';\r\nimport Pres from './pres';\r\n\r\nclass App {\r\n  _item: HTMLElement;\r\n  constructor(item: HTMLElement, options: object) {\r\n    this._item = item;\r\n    this._model = new Model(options, item);\r\n\r\n    this._pres = new Pres(this._model, this._model.getItem());\r\n    this._view = new View(this._pres, options, item);\r\n\r\n    this._pres.getView(this._view);\r\n    this._pres.init();\r\n\r\n    this._pres.onMouseDown();\r\n  }\r\n  public tilt() {\r\n    if (this._model.getSettings().orientation == 'vertical') {\r\n      this._model._settings.orientation = 'horizontal';\r\n    } else if (this._model.getSettings().orientation == 'horizontal') {\r\n      this._model._settings.orientation = 'vertical';\r\n    }\r\n    this._pres.init();\r\n    this._pres.onMouseDown();\r\n  }\r\n  public scale(option: boolean) {\r\n    if (!option) {\r\n      this._view._elements._sliderScale.style.display = 'none';\r\n    } else {\r\n      this._view._elements._sliderScale.style.display = '';\r\n    }\r\n  }\r\n  public bar(option: boolean) {\r\n    if (!option) {\r\n      this._view._elements._sliderRange.style.display = 'none';\r\n    } else {\r\n      this._view._elements._sliderRange.style.display = '';\r\n    }\r\n  }\r\n  public tip(option: boolean) {\r\n    if (!option) {\r\n      this._view._elements._sliderTooltipContainers.forEach((item) => {\r\n        item.style.display = 'none';\r\n      });\r\n    } else {\r\n      this._view._elements._sliderTooltipContainers.forEach((item) => {\r\n        item.style.display = '';\r\n      });\r\n    }\r\n  }\r\n  public range(option: boolean) {\r\n    if (option) {\r\n      if (this._model._settings.type != 'double') {\r\n        this._model._settings.type = 'double';\r\n        this._pres.addHandle();\r\n        this._pres.onMouseDown();\r\n      }\r\n    } else {\r\n      this._model._settings.type = 'single';\r\n      this._pres.removeHandle();\r\n    }\r\n  }\r\n  public setValue(value: number, target: 1 | 2) {\r\n    this._pres.setValue(value, target);\r\n  }\r\n  public setLimits(min: number, max: number) {\r\n    this._model._settings.maxValue = max;\r\n    this._model._settings.minValue = min;\r\n    this._pres.init();\r\n    this._pres.onMouseDown();\r\n  }\r\n  public isRange() {\r\n    if (this._model._settings.type == 'double') {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n  public setStep(step) {\r\n    this._model._settings.stepSize = Number(step);\r\n    this._pres.init();\r\n    this._pres.onMouseDown();\r\n  }\r\n  public noStick(option: boolean) {\r\n    if (!option) {\r\n    }\r\n  }\r\n  private changeStyles(item) {\r\n    const classes = item.className;\r\n    let substr = 'vertical';\r\n    let length = substr.length;\r\n    let start = classes.indexOf(substr);\r\n    if (classes.includes(substr)) {\r\n      const newClasses = classes\r\n        .slice(0, start)\r\n        .concat('horizontal')\r\n        .concat(classes.slice(start + length));\r\n      item.className = newClasses;\r\n    }\r\n  }\r\n  public getValue(numbOfHandle: 1 | 2) {\r\n    let direction;\r\n    let margin;\r\n    console.log(numbOfHandle);\r\n\r\n    const handle = this._view._elements._sliderHandles[numbOfHandle - 1];\r\n    if (this._model._settings.orientation == 'horizontal') {\r\n      direction = 'left';\r\n      margin = 'marginLeft';\r\n    } else {\r\n      direction = 'top';\r\n      margin = 'marginTop';\r\n    }\r\n    const value = handle.dataset.value;\r\n    return value;\r\n  }\r\n\r\n  _model: Model;\r\n\r\n  _view: View;\r\n\r\n  _pres: Pres;\r\n}\r\n\r\nexport default App;\r\n","interface eventmixin {\n  _eventHandlers: {};\n  on(eventname: string, handler: Function): void;\n  off(eventname: string, handler: Function): void;\n  trigger(eventaname: string, args: any, context?): void;\n}\n\nclass EventMixin implements eventmixin {\n  _eventHandlers: {};\n\n  on(eventName: string, handler: Function) {\n    if (!this._eventHandlers) this._eventHandlers = {};\n    if (!this._eventHandlers[eventName]) {\n      this._eventHandlers[eventName] = [];\n    }\n    this._eventHandlers[eventName].push(handler);\n  }\n\n  off(eventName: string, handler: Function) {\n    const handlers = this._eventHandlers && this._eventHandlers[eventName];\n    if (!handlers) return;\n    for (let i = 0; i < handlers.length; i++) {\n      if (handlers[i] === handler) {\n        handlers.splice(i--, 1);\n      }\n    }\n  }\n\n  // unsubscribe(eventName, callback) {\n  //   this.events[eventName] = this.events[eventName].filter(eventCallback => callback !== eventCallback);\n  // }\n\n  trigger(eventName: string, ...args) {\n    let x;\n    if (!this._eventHandlers || !this._eventHandlers[eventName]) {\n      return;\n    }\n\n    this._eventHandlers[eventName].forEach((handler) => {\n      const result = handler.call(this, ...args);\n\n      x = result;\n      return result;\n    });\n    return x;\n  }\n}\n\nexport default EventMixin;\n","import EventMixin from './eventemitter';\r\n\r\nfunction divisionFloor(x: number, y: number): number {\r\n  const result = Math.trunc(x / y);\r\n  return result;\r\n}\r\ntype Ori = 'horizontal' | 'vertical';\r\ntype Type = 'double' | 'single';\r\ntype Renew = {\r\n  (data: ICoords): void | ICoords;\r\n};\r\ntype IStyles = {\r\n  progressBarColor: string;\r\n  sliderColor: string;\r\n  handleColor: string;\r\n  sliderWidth: number;\r\n  sliderHeight: number;\r\n  toolTextColor: string;\r\n};\r\ntype Settings = {\r\n  className: string;\r\n  orientation: Ori;\r\n  type: Type;\r\n  stepSize: number;\r\n  pxPerValue: number;\r\n  valuePerPx: number;\r\n  marginLeft: number;\r\n  marginTop: number;\r\n  maxValue: number;\r\n  minValue: number;\r\n  maxMinDifference: number;\r\n  betweenMarkers: number;\r\n  _maxPins: number;\r\n  mainMax: number;\r\n  mainMin: number;\r\n  valueWidth: number;\r\n  toolTip: boolean;\r\n  altDrag: boolean;\r\n  marker: boolean;\r\n  built: boolean;\r\n  styles: IStyles;\r\n};\r\n\r\ntype ICoords = {\r\n  main: number;\r\n  prevMain: number;\r\n  mainMax: number;\r\n  value: number;\r\n  prevValue: number;\r\n  caller: string;\r\n  clicked: boolean;\r\n  altDrag: boolean;\r\n  target: object;\r\n};\r\n\r\nclass Model extends EventMixin {\r\n  private _slider: Element;\r\n\r\n  private _sliderRange: Element;\r\n\r\n  private _sliderHandle: Element;\r\n\r\n  private _item: Element;\r\n\r\n  private modifiable_options: Array<string> = [\r\n    'width',\r\n    'height',\r\n    'color',\r\n    'background-color',\r\n    'progressBarColor',\r\n    'sliderColor',\r\n    'handleColor',\r\n    'sliderWidth',\r\n    'sliderHeight',\r\n  ];\r\n  public interval: Map<HTMLDivElement, number> = new Map();\r\n  public coords: ICoords = {\r\n    main: 0,\r\n    prevMain: 0,\r\n    value: 1,\r\n    prevValue: 0,\r\n    caller: '',\r\n    clicked: false,\r\n    altDrag: false,\r\n    target: null,\r\n    mainMax: 0,\r\n  };\r\n  public temp = {\r\n    pinTextColor: '',\r\n  };\r\n  public _settings: Settings = {\r\n    className: 'slider',\r\n    orientation: 'horizontal',\r\n    type: 'double',\r\n    stepSize: 90,\r\n    pxPerValue: 0,\r\n    valuePerPx: 1,\r\n    marginLeft: 0,\r\n    marginTop: 0,\r\n    maxValue: 1360,\r\n    minValue: 0,\r\n    maxMinDifference: 0,\r\n    betweenMarkers: 40,\r\n    _maxPins: 5, // optimal maximum number of pins\r\n    mainMax: 200,\r\n    mainMin: 0,\r\n    valueWidth: 0,\r\n    toolTip: true,\r\n    marker: true,\r\n    altDrag: false,\r\n    built: false,\r\n    styles: {\r\n      progressBarColor: 'green',\r\n      sliderColor: 'red',\r\n      handleColor: '',\r\n      sliderWidth: 5,\r\n      sliderHeight: 200,\r\n      toolTextColor: 'green',\r\n    },\r\n  };\r\n  constructor(options, item) {\r\n    super();\r\n    this._item = item;\r\n    this.initOptions(options);\r\n  }\r\n\r\n  public initOptions(options: { [key: string]: string | number }) {\r\n    if (options) {\r\n      Object.keys(options).forEach((key: string): void => {\r\n        if (this._settings.styles.hasOwnProperty(key)) {\r\n          this._settings.styles[key] = options[key];\r\n        } else if (this.temp.hasOwnProperty(key)) {\r\n          this.temp[key] = options[key];\r\n        } else {\r\n          this._settings[key] = options[key];\r\n        }\r\n      });\r\n    }\r\n    this.correctOptions();\r\n  }\r\n  private correctOptions() {\r\n    this.coords.altDrag = this._settings.altDrag;\r\n    this.coords.mainMax = this._settings.mainMax;\r\n    this._settings.maxMinDifference =\r\n      this._settings.maxValue - this._settings.minValue;\r\n    const diff = this._settings.maxMinDifference;\r\n\r\n    if (this._settings.orientation == 'horizontal') {\r\n      this._settings.valuePerPx = diff / this._settings.mainMax;\r\n    } else if (this._settings.orientation == 'vertical') {\r\n      this._settings.valuePerPx = diff / this._settings.styles.sliderHeight;\r\n    }\r\n    this._settings.pxPerValue =\r\n      this._settings.mainMax / (diff / this._settings.stepSize);\r\n\r\n    this.validateOptions();\r\n  }\r\n\r\n  public validateOptions() {\r\n    // fixing user's mistake in input/contradictions in input\r\n    if (\r\n      this._settings.orientation === 'vertical' &&\r\n      this._settings.styles.sliderWidth > this._settings.styles.sliderHeight\r\n    ) {\r\n      [this._settings.styles.sliderWidth, this._settings.styles.sliderHeight] =\r\n        [this._settings.styles.sliderHeight, this._settings.styles.sliderWidth];\r\n    } else if (\r\n      this._settings.orientation == 'horizontal' &&\r\n      this._settings.styles.sliderWidth < this._settings.styles.sliderHeight\r\n    ) {\r\n      [this._settings.styles.sliderWidth, this._settings.styles.sliderHeight] =\r\n        [this._settings.styles.sliderHeight, this._settings.styles.sliderWidth];\r\n    }\r\n    if (this._settings.maxValue < this._settings.minValue) {\r\n      [this._settings.maxValue, this._settings.minValue] = [\r\n        this._settings.minValue,\r\n        this._settings.maxValue,\r\n      ];\r\n    }\r\n  }\r\n\r\n  private validate(data: ICoords) {\r\n    const validatedData = Object.assign({}, data);\r\n    const max = this._settings.mainMax;\r\n    const min = this._settings.mainMin;\r\n    const maxValue = this._settings.maxValue;\r\n    const minValue = this._settings.minValue;\r\n    if (validatedData.main >= max) {\r\n      validatedData.main = max;\r\n      validatedData.value = maxValue; // TODO figure out why we need this workaround,main mean does not work\r\n    } else if (validatedData.main <= min) {\r\n      validatedData.main = min;\r\n      validatedData.value = minValue;\r\n    }\r\n    return validatedData;\r\n  }\r\n\r\n  public renew(data: { [key: string]: number }, ori, type): ICoords {\r\n    const valuePerPx = this._settings.valuePerPx;\r\n    const pxPerValue = this._settings.pxPerValue;\r\n    const stepSize = this._settings.stepSize;\r\n\r\n    let axis = 0;\r\n    let margin = 0;\r\n\r\n    if (this._settings.orientation == 'vertical') {\r\n      axis = data.y;\r\n      margin = this._settings.marginTop;\r\n    } else if (this._settings.orientation == 'horizontal') {\r\n      axis = data.x;\r\n      margin = this._settings.marginLeft;\r\n    }\r\n    this.coords.caller = 'model'; // TODO this shouldnt be here,have to think of a better way\r\n    for (const i in data) {\r\n      this.coords[i] = data[i];\r\n    }\r\n\r\n    if (data.clicked) {\r\n      this.coords.main = axis - margin;\r\n      const validatedCoords = this.validate(this.coords);\r\n      if (validatedCoords) {\r\n        this.trigger('coords changed', validatedCoords, ori, type);\r\n        return validatedCoords;\r\n      }\r\n    }\r\n\r\n    this.coords.main = axis - margin;\r\n    this.coords.value =\r\n      divisionFloor(this.coords.main, pxPerValue) * this._settings.stepSize;\r\n\r\n    const validatedCoords = this.validate(this.coords);\r\n    this.coords.prevMain = this.coords.main;\r\n    if (validatedCoords) {\r\n      this.trigger('coords changed', validatedCoords, ori, type);\r\n      return validatedCoords;\r\n    }\r\n  }\r\n\r\n  public calcValue(target, offset) {\r\n    let margin;\r\n    if (this._settings.orientation == 'horizontal') {\r\n      margin = 'marginLeft';\r\n    } else if (this._settings.orientation == 'vertical') {\r\n      margin = 'marginTop';\r\n    }\r\n    const value =\r\n      divisionFloor(\r\n        offset - this._settings[margin],\r\n        this._settings.pxPerValue\r\n      ) * this._settings.stepSize;\r\n    return {\r\n      value: value,\r\n      target: target,\r\n    };\r\n  }\r\n\r\n  public calcMain(value, target: HTMLElement) {\r\n    let nValue;\r\n    if (value % this._settings.stepSize == 0) {\r\n      nValue = value;\r\n    } else {\r\n      nValue =\r\n        this._settings.stepSize * Math.trunc(value / this._settings.stepSize);\r\n    }\r\n    const main = (value * this._settings.pxPerValue) / this._settings.stepSize;\r\n    this.coords.main = main;\r\n    this.coords.value = nValue;\r\n    this.coords.target = target;\r\n    // console.log(this.coords, 'COORDS');\r\n    if (this.validate(this.coords)) {\r\n      this.trigger(\r\n        'coords changed',\r\n        this.coords,\r\n        this._settings.orientation,\r\n        this._settings.type\r\n      );\r\n      return;\r\n    }\r\n    return;\r\n  }\r\n\r\n  public setOptions(options: { [key: string]: string | number }) {\r\n    this.initOptions(options);\r\n    this.correctOptions();\r\n  }\r\n\r\n  public getStyles() {\r\n    return this._settings.styles;\r\n  }\r\n  public getStyle(option: string) {\r\n    return this._settings.styles[option];\r\n  }\r\n\r\n  public getSetting(option: string) {\r\n    return this._settings[option];\r\n  }\r\n\r\n  public getSettings() {\r\n    return this._settings;\r\n  }\r\n\r\n  public getItem() {\r\n    return this._item;\r\n  }\r\n  // public calcInterval(data): object {\r\n  //   const interval = this.interval;\r\n\r\n  //   interval.set(data.target, data.value);\r\n\r\n  //   const value = Number(Array.from(interval.values())[0]);\r\n  //   const value2 = Number(Array.from(interval.values())[1]);\r\n\r\n  //   const floor = Math.min(value, value2);\r\n  //   const ceil = Math.max(value, value2);\r\n\r\n  //   return {\r\n  //     floor,\r\n  //     ceil,\r\n  //   };\r\n  // }\r\n}\r\n\r\nexport { ICoords, Settings, Type, Ori };\r\nexport default Model;\r\n","import EventMixin from './eventemitter';\r\nimport Model, { Settings } from './model';\r\nimport View from './view';\r\nimport { Ori, Type } from './model';\r\nfunction elemsDiff(arr: number[]) {\r\n  let res = [];\r\n  for (let i = 0; i < arr.length - 1; i += 1) {\r\n    const result = +arr[i + 1] - +arr[i];\r\n    res.push(result);\r\n  }\r\n\r\n  return res;\r\n}\r\nfunction checkForZero(number: number) {\r\n  if (number > 0) {\r\n    return number;\r\n  } else {\r\n    throw new Error('can not operate with non-positive numbers');\r\n  }\r\n}\r\ntype HandleNum = 1 | 2;\r\n\r\nclass Pres extends EventMixin {\r\n  _item: Element;\r\n\r\n  _model: Model;\r\n\r\n  _view: View;\r\n\r\n  pxOptions: Array<string> = ['height', 'width'];\r\n\r\n  constructor(model: Model, item: Element) {\r\n    super();\r\n    this._model = model;\r\n    this._item = item;\r\n    this._model.on('settings changed', this.init.bind(this));\r\n  }\r\n\r\n  public getView(view: View): void {\r\n    this._view = view;\r\n    this._view._temp = this._model.temp;\r\n    view.on('settingsRequired', this.getSettings.bind(this));\r\n  }\r\n\r\n  public init(): void {\r\n    this._model.validateOptions();\r\n    const orientation = this._model.getSetting('orientation');\r\n    let widthOrHeight;\r\n    if (orientation == 'horizontal') {\r\n      widthOrHeight = this._model.getStyle('sliderWidth');\r\n    } else if (orientation == 'vertical') {\r\n      widthOrHeight = this._model.getStyle('sliderHeight');\r\n    }\r\n\r\n    const options = this.convertOptions(this._model.getStyles());\r\n    const behavior = this._model.getSettings();\r\n\r\n    const { main: sliderMain, container, slider } = this.makeSlider(behavior);\r\n    const { marginLeft, marginTop, handles, offsetWidth, offsetHeight } =\r\n      this._view.showSlider(sliderMain as Node, orientation as Ori);\r\n\r\n    let mainMax: number;\r\n    let mainMin: number;\r\n    mainMax = offsetWidth - handles[0].offsetWidth / 2;\r\n    mainMin = handles[0].offsetWidth / 2;\r\n\r\n    this._model.setOptions({\r\n      mainMax,\r\n      marginLeft,\r\n      marginTop,\r\n      mainMin,\r\n    });\r\n    if (behavior.marker) {\r\n      const marker = this.makeMarker(behavior, widthOrHeight);\r\n      container.appendChild(marker);\r\n    }\r\n    this.fetchDivs();\r\n    this._view.implementStyles(options, this._model._settings.orientation);\r\n    this._model._settings.built = true;\r\n  }\r\n\r\n  public makeSlider(behavior: Settings): {\r\n    main: Node;\r\n    container: Node;\r\n    slider: Node;\r\n  } {\r\n    const viewEls = this._view._elements;\r\n    let direction: string;\r\n    let orientation: string;\r\n    let widthOrHeight: number;\r\n    if (behavior.orientation === 'horizontal') {\r\n      widthOrHeight = this._model.getStyle('sliderWidth');\r\n      orientation = 'horizontal';\r\n      direction = 'left';\r\n    } else {\r\n      orientation = 'vertical';\r\n      widthOrHeight = this._model.getStyle('sliderHeight');\r\n      direction = 'top';\r\n    }\r\n    let marker: HTMLDivElement;\r\n    const main = document.createElement('div');\r\n    main.classList.add('slider-main');\r\n    const container = document.createElement('div');\r\n    // this._sliderContainer = container;\r\n    const slider = document.createElement('div');\r\n    slider.classList.add('slider');\r\n    const range = document.createElement('div');\r\n    range.classList.add('slider-range');\r\n\r\n    const handle = document.createElement('div');\r\n    if (orientation === 'horizontal') {\r\n      range.style.width = '0px';\r\n      handle.style[direction] = '0px';\r\n    } else if (orientation === 'vertical') {\r\n      range.style.height = '0px';\r\n      handle.style[direction] = '0px';\r\n    }\r\n    const tool = document.createElement('div');\r\n    const tooltipContainer = document.createElement('div');\r\n    tooltipContainer.className = `tooltipContainer tooltipContainer--${orientation}`;\r\n    const tooltipStick = document.createElement('div');\r\n    tooltipStick.className = `tooltipStick tooltipStick--${orientation}`;\r\n    tooltipContainer.append(tooltipStick);\r\n    this._view._elements._sliderTooltipSticks.push(tooltipStick);\r\n    tooltipContainer.append(tool);\r\n    handle.append(tooltipContainer);\r\n    const min = document.createElement('span');\r\n    min.className = 'jsOffset values jsSlider-clickable';\r\n    const max = document.createElement('span');\r\n    max.className = 'jsOffset values jsSlider-clickable';\r\n    main.append(min);\r\n    container.append(slider);\r\n    main.append(container);\r\n    main.append(max);\r\n    slider.appendChild(range);\r\n    // this._sliderRange = range;\r\n    slider.appendChild(handle);\r\n    handle.className = `slider-handle slider-handle--${orientation}`;\r\n    // this._view._elements._sliderHandles = [];\r\n    viewEls._sliderHandles.push(handle);\r\n    container.className = `slider-container slider-container--${orientation}`;\r\n    tool.className = `tooltip tooltip--${orientation}`;\r\n\r\n    if (behavior.type !== 'single') {\r\n      this.addHandle(handle, range, direction);\r\n    }\r\n    min.textContent = String(behavior.minValue);\r\n    min.dataset.value = min.textContent;\r\n    max.textContent = String(behavior.maxValue);\r\n    max.dataset.value = max.textContent;\r\n    min.classList.add(`slider-min--${orientation}`);\r\n    max.classList.add(`slider-max--${orientation}`);\r\n    main.classList.add(`slider-main--${orientation}`);\r\n\r\n    return { main: main as Node, container, slider };\r\n  }\r\n\r\n  private makeMarker(behavior: Settings, widthOrHeight: number): HTMLElement {\r\n    const orientation = this._model.getSetting('orientation');\r\n    let marginCss: string;\r\n    if (orientation === 'horizontal') {\r\n      marginCss = 'marginLeft';\r\n    } else if (orientation === 'vertical') {\r\n      marginCss = 'marginTop';\r\n    }\r\n    const markerDiv = document.createElement('div');\r\n    const { valuesForMarkers, majorMarkers, altDrag, margin } = this.calcPins(\r\n      behavior,\r\n      widthOrHeight\r\n    );\r\n    const listOfValues = valuesForMarkers;\r\n    let j = 0;\r\n\r\n    for (let i = 0; i < valuesForMarkers.length - 1; i += 1) {\r\n      const majorMarker = document.createElement('div');\r\n      markerDiv.append(majorMarker);\r\n      const markerValue = document.createElement('label');\r\n      markerValue.className = `jsSlider-clickable marker-value marker-value--${orientation}`;\r\n      markerDiv.classList.add(`slider-marker--${orientation}`);\r\n      majorMarker.className = `jsOffset marker--major marker--major--${orientation}`;\r\n      if (i == 0) {\r\n        majorMarker.style[marginCss] =\r\n          margin -\r\n          this._view._elements._sliderHandles[0].offsetWidth / 2 +\r\n          'px';\r\n      } else {\r\n        majorMarker.style[marginCss] = margin + 'px';\r\n      }\r\n\r\n      if (!altDrag) {\r\n        const value = behavior.stepSize * (i + 1);\r\n        majorMarker.dataset.value = value.toString();\r\n        markerValue.dataset.value = value.toString();\r\n        markerValue.textContent = value.toString();\r\n        majorMarker.append(markerValue);\r\n      } else {\r\n        const value = listOfValues[j];\r\n        majorMarker.dataset.value = value.toString();\r\n        markerValue.dataset.value = value.toString();\r\n        markerValue.textContent = value.toString();\r\n        majorMarker.append(markerValue);\r\n        j += 1;\r\n      }\r\n    }\r\n    markerDiv.className = `slider-marker slider-marker--${orientation}`;\r\n\r\n    return markerDiv;\r\n  }\r\n\r\n  public addHandle(handl?, rang?, directio?) {\r\n    let handle;\r\n    let range;\r\n    let direction;\r\n    const viewEls = this._view._elements;\r\n    this._model._settings.type = 'double';\r\n\r\n    if (!handl) {\r\n      handle = viewEls._sliderHandles[0];\r\n\r\n      range = viewEls._sliderRange;\r\n    } else {\r\n      handle = handl;\r\n      range = rang;\r\n      direction = directio;\r\n    }\r\n    const behavior = this._model.getSettings();\r\n    if (behavior.orientation === 'horizontal') {\r\n      direction = 'left';\r\n    } else {\r\n      direction = 'top';\r\n    }\r\n    const handleCLone: HTMLElement = handle.cloneNode(true) as HTMLElement;\r\n    handleCLone.style[direction] = '20px';\r\n    const tooltipContainer = handleCLone.getElementsByClassName(\r\n      'tooltipContainer'\r\n    )[0] as HTMLElement;\r\n    this._view._elements._sliderTooltipContainers.push(tooltipContainer);\r\n    handle.after(range);\r\n    range.after(handleCLone);\r\n    const stick = this._view.fetchHTMLEl(\r\n      'tooltipStick',\r\n      true,\r\n      handleCLone\r\n    ) as HTMLElement;\r\n    viewEls._sliderTooltipSticks.push(stick);\r\n    viewEls._sliderHandles.push(handleCLone);\r\n    if (this._model._settings.built) {\r\n      this._view.rangeInterval(this._model._settings.orientation);\r\n      this.showValue(handleCLone);\r\n    }\r\n  }\r\n  private showValue(handle) {\r\n    let direction;\r\n    if (this._model._settings.orientation == 'horizontal') {\r\n      direction = 'left';\r\n    } else if (this._model._settings.orientation == 'vertical') {\r\n      direction = 'top';\r\n    }\r\n    const offset = handle.getBoundingClientRect()[direction];\r\n\r\n    const { value, target } = this._model.calcValue(handle, offset);\r\n    this._view.showValue(target, value);\r\n  }\r\n  public removeHandle() {\r\n    const viewEls = this._view._elements;\r\n    this._model._settings.type = 'single';\r\n    const orient = this._model._settings.orientation;\r\n    if (orient === 'horizontal') {\r\n      viewEls._sliderRange.style.left = '0px';\r\n    } else if (orient === 'vertical') {\r\n      viewEls._sliderRange.style.top = '0px';\r\n    }\r\n\r\n    viewEls._sliderHandles[0].before(viewEls._sliderRange);\r\n    viewEls._sliderHandles[1].remove();\r\n    viewEls._sliderHandles = viewEls._sliderHandles.slice(0, 1);\r\n    if (this._model._settings.built) {\r\n      this._view.rangeInterval(this._model._settings.orientation);\r\n    }\r\n  }\r\n  public fetchDivs() {\r\n    const className = this._model._settings.className;\r\n    const ori: Ori = this._model._settings.orientation;\r\n    this._view.fetchDivs(ori, className);\r\n  }\r\n  private calcPins(behavior, widthOrHeight) {\r\n    let altDrag;\r\n    let majorMarkers = Math.trunc(\r\n      (behavior.maxValue - behavior.minValue) / behavior.stepSize\r\n    );\r\n    // 40px between pins is the optimal number,if it is smaller,we make it 40\r\n    if (widthOrHeight / majorMarkers < 40) {\r\n      altDrag = true;\r\n      this._model.setOptions({\r\n        altDrag,\r\n      });\r\n      majorMarkers = this._model._settings._maxPins;\r\n    }\r\n\r\n    const diff = this._model._settings.maxMinDifference;\r\n    const ss = this._model._settings.stepSize;\r\n    const maxPins = this._model._settings._maxPins;\r\n    const n = checkForZero(Math.trunc(diff / (ss * majorMarkers))); // n-    value    scale\r\n\r\n    const valuesForMarkers = [];\r\n    for (let i = n; i < diff / ss; i += n) {\r\n      const value = ss * i;\r\n      valuesForMarkers.push(value);\r\n    }\r\n    const margin = (valuesForMarkers[0] / diff) * widthOrHeight;\r\n    // console.log(\r\n    //   ' ~ Pres ~ calcPins ~ margin',\r\n    //   margin,\r\n    //   valuesForMarkers[0],\r\n    //   diff,\r\n    //   widthOrHeight\r\n    // );\r\n\r\n    return { valuesForMarkers, majorMarkers, altDrag, margin };\r\n  }\r\n\r\n  private convertOptions(options: object) {\r\n    const newOptions = {\r\n      slider: {\r\n        width: 0,\r\n        height: 0,\r\n      },\r\n      progressBar: {\r\n        'background-color': '',\r\n      },\r\n      handle: {\r\n        'background-color': '',\r\n      },\r\n      tool: {\r\n        color: '',\r\n      },\r\n    };\r\n    for (const i in options) {\r\n      if (i.toString().includes('slider')) {\r\n        let option = i.slice(6).toLowerCase();\r\n        if (option == 'color') {\r\n          option = 'background-color';\r\n        }\r\n        newOptions.slider[option] = options[i];\r\n        if (this.pxOptions.includes(option)) {\r\n          newOptions.slider[option] = `${options[i]}px`;\r\n        } else {\r\n          newOptions.slider[option] = options[i];\r\n        }\r\n      } else if (i.toString().includes('progressBar')) {\r\n        let option = i.slice(11).toLowerCase();\r\n        if (option == 'color') {\r\n          option = 'background-color';\r\n        }\r\n        newOptions.progressBar[option] = options[i];\r\n        if (this.pxOptions.includes(option)) {\r\n          newOptions.progressBar[option] = `${options[i]}px`;\r\n        } else {\r\n          newOptions.progressBar[option] = options[i];\r\n        }\r\n      } else if (i.toString().includes('handle')) {\r\n        let option = i.slice(6).toLowerCase();\r\n        if (option == 'color') {\r\n          option = 'background-color';\r\n        }\r\n        newOptions.handle[option] = options[i];\r\n        if (this.pxOptions.includes(option)) {\r\n          newOptions.handle[option] = `${options[i]}px`;\r\n        } else {\r\n          newOptions.handle[option] = options[i];\r\n        }\r\n      } else if (i.toString().includes('tool')) {\r\n        let option = i.slice(4).toLowerCase();\r\n        if (option == 'color') {\r\n          option = 'background-color';\r\n        } else if (option == 'textcolor') {\r\n          option = 'color';\r\n        }\r\n        newOptions.tool[option] = options[i];\r\n        if (this.pxOptions.includes(option)) {\r\n          newOptions.tool[option] = `${options[i]}px`;\r\n        } else {\r\n          newOptions.tool[option] = options[i];\r\n        }\r\n      }\r\n    }\r\n    return newOptions;\r\n  }\r\n\r\n  public onMouseDown(): void {\r\n    const handles = this._view._elements._sliderHandles;\r\n\r\n    const container = this._view._elements._sliderContainer;\r\n    const slider = this._view._elements._slider;\r\n    const model = this._model;\r\n    const marginLeft = slider.getBoundingClientRect().left; //TODO should take from model?\r\n    const marginTop = slider.getBoundingClientRect().top;\r\n    model.on('coords changed', this.transferData.bind(this));\r\n    for (const handle of handles) {\r\n      handle.ondragstart = function () {\r\n        return false;\r\n      };\r\n      handle.addEventListener('pointerdown', (event) => {\r\n        event.preventDefault();\r\n        const ori = this._model._settings.orientation;\r\n        const type = this._model._settings.type;\r\n        const target = event.target as HTMLDivElement;\r\n        if (target == handle) {\r\n          const shiftX = event.clientX - handle.getBoundingClientRect().left;\r\n\r\n          const mouseMove = (e) => {\r\n            this.transferData(\r\n              {\r\n                y: e.clientY,\r\n                x: e.clientX,\r\n                shiftX: shiftX,\r\n                marginLeft: marginLeft,\r\n                clicked: false,\r\n                marginTop: marginTop,\r\n                target: event.target,\r\n              },\r\n              ori,\r\n              type\r\n            );\r\n          };\r\n          const onMouseUp = (e) => {\r\n            document.removeEventListener('pointermove', mouseMove);\r\n            document.removeEventListener('pointerup', onMouseUp);\r\n          };\r\n          document.addEventListener('pointermove', mouseMove);\r\n          document.addEventListener('pointerup', onMouseUp);\r\n        }\r\n      });\r\n    }\r\n\r\n    container.addEventListener('click', (event) => {\r\n      const target = event.target as HTMLElement;\r\n      const ori = this._model._settings.orientation;\r\n      const type = this._model._settings.type;\r\n      if (target.className.includes('jsSlider-clickable')) {\r\n        const value =\r\n          (target.getElementsByClassName('marker-value')[0] as HTMLElement) ||\r\n          target;\r\n        this.transferData(\r\n          {\r\n            y: event.clientY,\r\n            x: target.getBoundingClientRect().left,\r\n            value: value.dataset.value,\r\n            clicked: true,\r\n            target: target,\r\n            marginLeft: marginLeft,\r\n            marginTop: marginTop,\r\n          },\r\n          ori,\r\n          type\r\n        );\r\n      }\r\n    });\r\n  }\r\n\r\n  private transferData(data, ori?: Ori, type?: Type) {\r\n    const dataForTransfer = Object.assign({}, data);\r\n    if (dataForTransfer.caller == 'model') {\r\n      dataForTransfer.marginLeft = this._model._settings.marginLeft;\r\n      dataForTransfer.marginTop = this._model._settings.marginTop;\r\n      this._view.refreshCoords(dataForTransfer, ori, type);\r\n      return;\r\n    }\r\n\r\n    this._model.renew(dataForTransfer, ori, type);\r\n  }\r\n\r\n  public setValue(value: number, target: HandleNum) {\r\n    const viewEls = this._view._elements;\r\n    let handle: HTMLElement;\r\n    if (target == 1) {\r\n      handle = viewEls._sliderHandles[0];\r\n    } else if (target == 2) {\r\n      if (this._model._settings.type == 'double') {\r\n        handle = viewEls._sliderHandles[1];\r\n      } else {\r\n        throw new ReferenceError('Can not reference absent handle');\r\n      }\r\n    }\r\n    this._model.calcMain(value, handle);\r\n  }\r\n\r\n  public getSettings() {\r\n    return this._model.getSettings();\r\n  }\r\n}\r\n\r\nexport default Pres;\r\n","import Model, { ICoords } from './model';\r\nimport EventMixin from './eventemitter';\r\nimport Pres from './pres';\r\nimport { Type, Ori } from './model';\r\ntype Elements<T> = {\r\n  _slider: T;\r\n  _sliderMain: T;\r\n  _sliderScale: T;\r\n  _sliderRange: T;\r\n  _sliderTooltipContainers: T[];\r\n  _sliderHandles: T[];\r\n  _sliderContainer: T;\r\n  _sliderTooltip: T[];\r\n  _sliderTooltipSticks: T[];\r\n  _sliderPins: T[];\r\n};\r\ntype Fetch = {\r\n  (className: string, single: true, item?): HTMLElement;\r\n  (className: string, single: false, item?): HTMLElement[];\r\n};\r\nclass View extends EventMixin {\r\n  valueDivs: Object[];\r\n  valueDivsArray: number[];\r\n  offsetArray: number[];\r\n  offsets: { div: HTMLElement; offset: number }[];\r\n  offsetsNums: number[];\r\n  _temp: { [key: string]: string | number };\r\n  _pres: Pres;\r\n  _item: HTMLElement;\r\n  orientation: string;\r\n  public _elements: Elements<HTMLElement> = {\r\n    _slider: null,\r\n    _sliderMain: null,\r\n    _sliderScale: null,\r\n    _sliderRange: null,\r\n    _sliderTooltipContainers: [],\r\n    _sliderHandles: [],\r\n    _sliderContainer: null,\r\n    _sliderTooltip: [],\r\n    _sliderTooltipSticks: [],\r\n    _sliderPins: [],\r\n  };\r\n\r\n  constructor(pres, options, item) {\r\n    super();\r\n    this._pres = pres;\r\n    this._item = item;\r\n  }\r\n\r\n  public implementStyles(options, pos) {\r\n    this.initiateOptions(options);\r\n    this.orientation = pos;\r\n\r\n    if (this._elements._sliderTooltip[0].getBoundingClientRect().left < 0) {\r\n      this._elements._sliderContainer.style.justifyContent = 'space-between';\r\n      this._elements._sliderContainer.style.flexDirection = 'row-reverse';\r\n      const min = this.fetchHTMLEl('slider-min--vertical', true) as HTMLElement;\r\n      min.style.left = '10px';\r\n      this._elements._sliderTooltipContainers.forEach((item) => {\r\n        item.style.flexDirection = 'row';\r\n        item.style.right = 'auto';\r\n\r\n        item.style.left = '100%';\r\n        Array.from(\r\n          this._item.getElementsByClassName(\r\n            'values'\r\n          ) as HTMLCollectionOf<HTMLElement>\r\n        ).forEach((item) => {\r\n          item.style.justifyContent = 'flex-end';\r\n        }); //TODO should be a nicer way\r\n      });\r\n    }\r\n\r\n    return {\r\n      slider: this._elements._slider,\r\n      range: this._elements._sliderRange,\r\n      handles: this._elements._sliderHandles,\r\n      wrapper: this._elements._sliderMain,\r\n    };\r\n  }\r\n\r\n  public showSlider(sliderMain: Node, ori: Ori) {\r\n    const main = this._item.appendChild(sliderMain as Node) as HTMLElement;\r\n    const marginLeft = main.getBoundingClientRect().left;\r\n    const marginTop = main.getBoundingClientRect().top;\r\n    const offsetWidth = main.offsetWidth;\r\n    const offsetHeight = main.offsetHeight;\r\n    const handles = this.fetchHTMLEl('slider-handle', false);\r\n    return { marginLeft, marginTop, handles, offsetWidth, offsetHeight };\r\n  }\r\n\r\n  public fetchHTMLEl(\r\n    className: string,\r\n    single: boolean,\r\n    elem: HTMLElement = this._item\r\n  ): HTMLElement | HTMLElement[] {\r\n    const item = Array.from(\r\n      elem.getElementsByClassName(className) as HTMLCollectionOf<HTMLElement>\r\n    );\r\n\r\n    if (single) {\r\n      return item[0] as HTMLElement;\r\n    } else {\r\n      return item as HTMLElement[];\r\n    }\r\n  }\r\n\r\n  public fetchDivs(orientation: Ori, defClassName: string) {\r\n    this._elements._sliderMain = this.fetchHTMLEl(\r\n      `${defClassName}-main`,\r\n      true\r\n    ) as HTMLElement;\r\n    this._elements._slider = this.fetchHTMLEl(\r\n      defClassName,\r\n      true\r\n    ) as HTMLElement;\r\n    this._elements._sliderRange = this.fetchHTMLEl(\r\n      `${defClassName}-range`,\r\n      true\r\n    ) as HTMLElement;\r\n    this._elements._sliderHandles = this.fetchHTMLEl(\r\n      `${defClassName}-handle--${orientation}`,\r\n      false\r\n    ) as HTMLElement[];\r\n    // console.log(this._elements._sliderHandles, 'fetch divs');\r\n    this._elements._sliderTooltip = this.fetchHTMLEl(\r\n      `tooltip`,\r\n      false\r\n    ) as HTMLElement[];\r\n    this._elements._sliderContainer = this.fetchHTMLEl(\r\n      `${defClassName}-container`,\r\n      true\r\n    ) as HTMLElement;\r\n    this._elements._sliderScale = this.fetchHTMLEl(\r\n      `${defClassName}-marker`,\r\n      true\r\n    ) as HTMLElement;\r\n    this._elements._sliderTooltipContainers = this.fetchHTMLEl(\r\n      'tooltipContainer',\r\n      false\r\n    ) as HTMLElement[];\r\n    this._elements._sliderPins = this.fetchHTMLEl(\r\n      'jsSlider-clickable',\r\n      false\r\n    ) as HTMLElement[];\r\n    const valueDivs: { div: HTMLElement; value: number }[] = Array.from(\r\n      this._item.getElementsByClassName('jsSlider-clickable')\r\n    ).map((item: HTMLElement) => {\r\n      return Object.create({\r\n        div: item,\r\n        value: item.textContent,\r\n      });\r\n    });\r\n\r\n    this.valueDivs = valueDivs;\r\n    this.valueDivsArray = valueDivs.map((item) => {\r\n      return item.value;\r\n    });\r\n    let offset;\r\n    if (orientation == 'horizontal') {\r\n      offset = 'offsetLeft';\r\n    } else {\r\n      offset = 'offsetTop';\r\n    }\r\n    const offsets = Array.from(\r\n      this._item.getElementsByClassName('jsOffset')\r\n    ).map((item: HTMLElement) => {\r\n      return { div: item, offset: item[offset] };\r\n    });\r\n\r\n    const offsetsNums = offsets.map((item) => {\r\n      return item.offset;\r\n    });\r\n    this.offsets = offsets;\r\n    this.offsetsNums = offsetsNums;\r\n  }\r\n\r\n  private initiateOptions(options) {\r\n    for (const option of Object.keys(options)) {\r\n      if (typeof options[option] === 'object') {\r\n        for (const [i, j] of Object.entries(options[option])) {\r\n          if (option.toString().includes('slider')) {\r\n            this._elements._slider.style[i] = j;\r\n          } else if (option.toString().includes('progressBar')) {\r\n            this._elements._sliderRange.style[i] = j;\r\n          } else if (option.toString().includes('markUp')) {\r\n            this._elements._slider.style[i] = j;\r\n          } else if (option.toString().includes('handle')) {\r\n            for (const handle of this._elements._sliderHandles) {\r\n              handle.style[i] = j;\r\n            }\r\n          } else if (option.toString().includes('tool')) {\r\n            for (const tool of this._elements._sliderTooltip) {\r\n              tool.style[i] = j;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  public refreshCoords(data, ori: Ori, type: Type) {\r\n    const shiftX = data.shiftX;\r\n    const pinPoints = this.valueDivsArray;\r\n    let newLeft: string;\r\n    let dataObject;\r\n    let handle: HTMLElement;\r\n    let direction: string;\r\n    let widthOrHeight: string;\r\n    let value = data.value;\r\n    if (ori == 'vertical') {\r\n      direction = 'top';\r\n      widthOrHeight = 'height';\r\n    } else if (ori == 'horizontal') {\r\n      direction = 'left';\r\n      widthOrHeight = 'width';\r\n    }\r\n    if (type == 'single') {\r\n      handle = this._elements._sliderHandles[0];\r\n    } else if (type == 'double') {\r\n      handle = data.target;\r\n    }\r\n    const range = this._elements._sliderRange;\r\n    const toolTip = this.fetchHTMLEl(`tooltip`, true, handle) as HTMLDivElement;\r\n    const newCoords = Object.assign(data, {\r\n      shiftX: shiftX,\r\n      newLeft: newLeft,\r\n      pinPoints: pinPoints,\r\n    });\r\n    let pin;\r\n\r\n    if (data.clicked) {\r\n      dataObject = this.reactOnClick(newCoords, ori, type);\r\n      if (dataObject) {\r\n        newLeft = dataObject.newLeft;\r\n        pin = dataObject.pin;\r\n      } else {\r\n        return false;\r\n      }\r\n    } else {\r\n      if (data.altDrag) {\r\n        dataObject = this.reactOnDrag(newCoords, ori, type);\r\n        newLeft = dataObject.newLeft;\r\n        pin = dataObject.pin;\r\n      } else {\r\n        let { newLeft: nl, value: v } = this.pinnedDrag(data, ori, type);\r\n        newLeft = nl;\r\n        value = v;\r\n      }\r\n    }\r\n\r\n    handle.style[direction] = newLeft + 'px';\r\n\r\n    if (type == 'double') {\r\n      this.rangeInterval(ori);\r\n    } else {\r\n      range.style[widthOrHeight] = newLeft + handle.offsetWidth / 2 + 'px';\r\n    }\r\n\r\n    handle.dataset.value = value;\r\n    value = numberOfDigits(value);\r\n    toolTip.textContent = value;\r\n    return;\r\n  }\r\n\r\n  private reactOnDrag(data, ori: Ori, type: string) {\r\n    let direction = '0';\r\n    let widthOrHeight = '';\r\n    let newLeft = data.newLeft;\r\n    let margin: number;\r\n    let value: number;\r\n    if (ori == 'horizontal') {\r\n      direction = 'left';\r\n      widthOrHeight = data.width;\r\n      margin = data.marginLeft;\r\n    } else {\r\n      direction = 'top';\r\n      widthOrHeight = data.height;\r\n      margin = data.marginTop;\r\n    }\r\n\r\n    const handle = data.target;\r\n    const handleWidth = handle.offsetWidth;\r\n    const handleHeight = handle.offsetHeight;\r\n    const range = this._elements._sliderRange;\r\n    const toolTip = this._elements._sliderTooltip;\r\n\r\n    if (data.value == 0) {\r\n      range.style[widthOrHeight] = '0';\r\n    }\r\n\r\n    if (data.altDrag) {\r\n      newLeft = data.main - data.shiftX;\r\n    } else {\r\n      newLeft += handle.offsetWidth / 2;\r\n    }\r\n    // if (handle == this._elements._sliderHandles[1]) {\r\n    //   console.log(newLeft, 'from view MUHAHAHHA');\r\n    // }\r\n    return {\r\n      newLeft,\r\n      value,\r\n    };\r\n  }\r\n  private pinnedDrag(data, ori: Ori, type: Type) {\r\n    let direction = '0';\r\n    let widthOrHeight = '';\r\n    let newLeft;\r\n    let margin: number;\r\n    let value: number;\r\n    const handleHeight = this._elements._sliderHandles[0].offsetWidth;\r\n    if (ori == 'horizontal') {\r\n      direction = 'left';\r\n      widthOrHeight = data.width;\r\n      margin = data.marginLeft;\r\n    } else {\r\n      direction = 'top';\r\n      widthOrHeight = data.height;\r\n      margin = data.marginTop;\r\n    }\r\n    const pin = this.matchHandleAndPin(data.main, ori);\r\n\r\n    value = pin.dataset.value;\r\n    let neededCoords = pin.getBoundingClientRect()[direction];\r\n    newLeft = neededCoords - margin - handleHeight / 2;\r\n    if (pin.className.includes('values')) {\r\n      if (pin.className.includes('slider-min')) {\r\n        newLeft = 0;\r\n      } else if (pin.className.includes('slider-max')) {\r\n        newLeft = data.mainMax - handleHeight / 2;\r\n      }\r\n    }\r\n\r\n    return { newLeft, value };\r\n  }\r\n  private reactOnClick(data, ori, type) {\r\n    if (type == 'double') {\r\n      return false;\r\n    }\r\n    const handle = this._elements._sliderHandles[0];\r\n    const handleWidth = handle.offsetWidth;\r\n    const pin = data.target.parentElement;\r\n    const pinPointsValues = this.valueDivsArray;\r\n    let newLeft: number;\r\n    const { offset, widthOrHeight, direction, margin } = this.convertValues({\r\n      mainAxis: 'x',\r\n    });\r\n    newLeft =\r\n      pin.getBoundingClientRect()[direction] - data[margin] - handleWidth / 2;\r\n    handle.style[direction] = newLeft + 'px';\r\n    this._elements._sliderRange.style[widthOrHeight] = newLeft + 'px';\r\n    this._elements._sliderTooltip[0].textContent = data.value;\r\n\r\n    if (pinPointsValues.includes(data.value)) {\r\n      for (const i of this.valueDivs) {\r\n        const item = i as { div: HTMLElement; value: number };\r\n        if (item.value == data.value) {\r\n          for (const i of this.valueDivs) {\r\n            const item = i as { div: HTMLElement; value: number };\r\n\r\n            item.div.style.color = '';\r\n          }\r\n          item.div.style.color = String(this._temp.pinTextColor);\r\n        }\r\n      }\r\n    }\r\n    return { newLeft, pin };\r\n  }\r\n\r\n  public rangeInterval(orientation) {\r\n    let offset: string;\r\n    let widthOrHeight: string;\r\n    let direction: string;\r\n    if (orientation == 'horizontal') {\r\n      offset = 'offsetLeft';\r\n      widthOrHeight = 'width';\r\n      direction = 'left';\r\n    } else if (orientation == 'vertical') {\r\n      offset = 'offsetTop';\r\n      widthOrHeight = 'height';\r\n      direction = 'top';\r\n    }\r\n\r\n    const minOffset = parseFloat(\r\n      this._elements._sliderHandles[0].style[direction]\r\n    );\r\n    let maxOffset;\r\n    if (this._elements._sliderHandles[1]) {\r\n      maxOffset =\r\n        parseFloat(this._elements._sliderHandles[1].style[direction]) || null; //only works if style.left is in pxs\r\n    } else {\r\n      maxOffset = null;\r\n    }\r\n\r\n    const length = Math.abs(minOffset - maxOffset);\r\n    const handleOffset = Math.min(minOffset, maxOffset);\r\n\r\n    this._elements._sliderRange.style[direction] = handleOffset + 'px';\r\n    this._elements._sliderRange.style[widthOrHeight] =\r\n      length + this._elements._sliderHandles[0].offsetWidth / 2 + 'px';\r\n  }\r\n\r\n  public showValue(target, value) {\r\n    const tool = target.getElementsByClassName('tooltip')[0];\r\n    tool.textContent = Math.abs(value); //Math.abs is a hack and it shouldnt be there\r\n  }\r\n\r\n  private matchHandleAndPin(main, ori: Ori) {\r\n    let offset;\r\n    const offsets = this.offsets;\r\n    const offsetsNums = this.offsetsNums;\r\n    if (ori == 'horizontal') {\r\n      offset = 'offsetLeft';\r\n    } else {\r\n      offset = 'offsetTop';\r\n    }\r\n\r\n    let minDiff = Infinity;\r\n    let pinOffset: number;\r\n    for (const offset of offsetsNums) {\r\n      const leastDiff = Math.abs(main - Number(offset));\r\n      if (leastDiff < minDiff) {\r\n        minDiff = leastDiff;\r\n        pinOffset = Number(offset);\r\n      }\r\n    }\r\n    let pin;\r\n\r\n    for (const i of offsets) {\r\n      const item = i;\r\n\r\n      if (pinOffset == item.offset) {\r\n        pin = item.div;\r\n        return pin;\r\n      }\r\n    }\r\n  }\r\n\r\n  private convertValues(valueObject: Object) {\r\n    for (const [key, value] of Object.entries(valueObject))\r\n      if (key == 'orientation' || key == 'mainAxis') {\r\n        let offset: string;\r\n        let widthOrHeight: string;\r\n        let direction: string;\r\n        let margin: string;\r\n        if (value == 'horizontal' || value == 'x') {\r\n          offset = 'offsetLeft';\r\n          widthOrHeight = 'width';\r\n          direction = 'left';\r\n          margin = 'marginLeft';\r\n        } else if (value == 'vertical' || value == 'y') {\r\n          offset = 'offsetTop';\r\n          widthOrHeight = 'height';\r\n          direction = 'top';\r\n          margin = 'marginTop';\r\n        }\r\n\r\n        return { offset, widthOrHeight, direction, margin };\r\n      }\r\n  }\r\n}\r\n//shortens value to format  e.g.'1.3k'\r\nfunction numberOfDigits(x) {\r\n  let value: string;\r\n  if (x.toString().length > 3) {\r\n    value = (x / 1000).toFixed(1) + 'k';\r\n  } else {\r\n    value = x;\r\n  }\r\n\r\n  return value;\r\n}\r\nexport { Ori };\r\nexport default View;\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","import App from './app';\r\nimport './style.scss';\r\ndeclare let $: any;\r\n$.fn.slider = function (this: JQuery, options?: object): JQuery {\r\n  return this.each(function () {\r\n    const app = new App(this, options);\r\n\r\n    $.fn.slider.tilt = () => {\r\n      $(this).slider.destroy();\r\n      app.tilt();\r\n      $(this).slider.restore();\r\n      return this;\r\n    };\r\n    $.fn.slider.scale = (option: boolean) => {\r\n      app.scale(option);\r\n      return this;\r\n    };\r\n    $.fn.slider.bar = (option: boolean) => {\r\n      app.bar(option);\r\n      return this;\r\n    };\r\n    $.fn.slider.tip = (option: boolean) => {\r\n      app.tip(option);\r\n      return this;\r\n    };\r\n    $.fn.slider.range = (option: boolean) => {\r\n      app.range(option);\r\n      return this;\r\n    };\r\n    $.fn.slider.setValue = (value: number, number: 1 | 2) => {\r\n      app.setValue(value, number);\r\n      return this;\r\n    };\r\n    $.fn.slider.setLimits = (min: number, max: number) => {\r\n      $(this).slider.destroy();\r\n      app.setLimits(min, max);\r\n      $(this).slider.restore();\r\n\r\n      return this;\r\n    };\r\n    $.fn.slider.isRange = () => {\r\n      return app.isRange();\r\n    };\r\n    $.fn.slider.setStep = (value) => {\r\n      $(this).slider.destroy();\r\n      app.setStep(value);\r\n      return this;\r\n    };\r\n    $.fn.slider.noStick = (option: boolean) => {\r\n      app.noStick(option);\r\n      return this;\r\n    };\r\n    $.fn.slider.destroy = () => {\r\n      $(this).html('');\r\n      $(this).data('handle1', app.getValue(1));\r\n      console.log(app._model._settings.type);\r\n\r\n      if ($(this).slider.isRange()) {\r\n        console.log('im range');\r\n        $(this).data('handle2', app.getValue(2));\r\n      }\r\n    };\r\n    $.fn.slider.restore = () => {\r\n      if (Object.keys($(this).data()).length == 0) {\r\n        return $(this);\r\n      } else {\r\n        $(this).slider.setValue($(this).data('handle1'), 1);\r\n        if ($(this).slider.isRange()) {\r\n          console.log(app._model._settings.type);\r\n          $(this).slider.setValue($(this).data('handle2'), 2);\r\n        }\r\n      }\r\n    };\r\n  });\r\n};\r\nconst data = {\r\n  className: 'slider',\r\n  orientation: 'horizontal',\r\n  type: 'single',\r\n  stepSize: 90,\r\n  maxValue: 400,\r\n  minValue: 0,\r\n  toolTip: true,\r\n  marker: true,\r\n  progressBarColor: 'brown',\r\n  sliderColor: 'red',\r\n  sliderWidth: 5,\r\n  sliderHeight: 200,\r\n  pinTextColor: 'green',\r\n  toolTextColor: 'red',\r\n};\r\n\r\n$('#slider').slider(data);\r\n"],"sourceRoot":""}